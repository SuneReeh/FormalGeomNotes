% -*- root: main.tex -*-

\chapter{Unstable cooperations}\label{UnstableCooperationsChapter}

\todo{Write an introduction for me.}




\section{Unstable contexts}\label{UnstableContextsSection}

Today we will take the framework of contexts discussed in \Cref{StableContextLecture} and augment it in two\todo{Fix this intro. Don't name ``two'' things, for instance.} important (and very distinct) ways.  First, we will assume that $X$ is a \emph{space} rather than a spectrum, and try to encode the extra structure appearing on $E_* X$ from this assumption.  Toward that end, recall that the levels of $\context{E}(X)$ are defined by repeatedly smashing $X$ with $E$, and that we had arrived at this by considering descent for the adjunction
\begin{center}
\begin{tikzcd}
\CatOf{Spectra} = \CatOf{Modules}_{\S} \arrow[shift left=0.4em]{r}{- \sm E} & \CatOf{Modules}_E \arrow[shift left=0.4em]{l}
\end{tikzcd}
\end{center}
induced by the algebra map $\S \to E$.  Given a spectrum $X$, our framework was set up to give its best possible approximation $X^\wedge_E$ within $E$--module spectra.

We will extend this to spaces by sewing this adjunction together with another:
\begin{center}
\begin{tikzcd}
\CatOf{Spaces} \arrow[shift left=0.4em]{r}{\Susp^\infty} & \CatOf{Modules}_{\S} \arrow[shift left=0.4em]{r}{- \sm E} \arrow[shift left=0.4em]{l}{\Loops^\infty} & \CatOf{Modules}_E \arrow[shift left=0.4em]{l} .
\end{tikzcd}
\end{center}
We will write $E(-)$ for the induced monad \todo{You avoided talking about \emph{monadic} descent in the previous lectures, and instead you were vague about it. Maybe you have to spell that out now.}on $\CatOf{Spaces}$, given by the formula \[E(X) = \colim_{j \to \infty} \Loops^j (\OS{E}{j} \sm X) = \Loops^\infty (E \sm \Susp^\infty X),\] \todo{Danny didn't like the colimit definition. We also don't need it; everything can be phrased stably. Maybe remove it.} where $\OS{E}{*}$ are the constituent spaces in the $\Omega$--spectrum of $E$.  This space has the property that $\pi_* E(X) = \widetilde E_* X$ (in nonnegative dimensions).  The monadic structure comes from the two evident natural transformations:
\begin{align*}
\eta \co X & \simeq S^0 \sm X \\
& \to \OS{E}{0} \sm X \\
& \to \colim_{j \to \infty} \Loops^j(\OS{E}{j} \sm X) = E(X), \\
\mu \co E(E(X)) & = \colim_{j \to \infty} \Loops^j \left( \OS{E}{j} \sm \colim_{k \to \infty} \Loops^k (\OS{E}{k} \sm X) \right) \\
& \to \colim_{\substack{j \to \infty \\ k \to \infty}} \Loops^{j+k} (\OS{E}{j} \sm \OS{E}{k} \sm X) \\
& \xrightarrow{\mu} \colim_{\substack{j \to \infty \\ k \to \infty}} \Loops^{j+k} (\OS{E}{j+k} \sm X) \xleftarrow{\simeq} E(X).
\end{align*}

Just as in the stable situation, we can extract from this a cosimplicial space:
\begin{definition}
Consider the descent cosimplicial object
\[\sheaf{UD}_E(X) := \left\{
\begin{tikzcd}
\begin{array}{c} E \\ \circ \\ X \end{array} \arrow[leftarrow, shift left=\baselineskip]{r}{\mu} \arrow[shift left=(2*\baselineskip)]{r}{\eta_L} \arrow{r}{\eta_R} &
\begin{array}{c} E \\ \circ \\ E \\ \circ \\ X \end{array} \arrow[shift left=(3*\baselineskip)]{r} \arrow[leftarrow, shift left=(2*\baselineskip)]{r} \arrow[shift left=\baselineskip]{r}{\Delta} \arrow[leftarrow]{r} \arrow[shift right=\baselineskip]{r} &
\begin{array}{c} E \\ \circ \\ E \\ \circ \\ E \\ \circ \\ X \end{array} \arrow[shift left=(4*\baselineskip)]{r} \arrow[leftarrow, shift left=(3*\baselineskip)]{r} \arrow[shift left=(2*\baselineskip)]{r} \arrow[leftarrow, shift left=\baselineskip]{r} \arrow{r} \arrow[leftarrow, shift right=\baselineskip]{r} \arrow[shift right=(2*\baselineskip)]{r} &
\cdots
\end{tikzcd}
\right\}.\]
Its totalization gives the \textit{unstable $E$--completion of $X$}.
\end{definition}

Under suitable hypotheses, we can extract from this an unstable analog of $\context{E}$.  Recall that our goal in \Cref{StableContextLecture} was to associate to $E_* X$ a quasi-coherent sheaf over $\context{E}$, a fixed object, dependent on $E$ but independent of $X$.  In the presence of further hypotheses called ``{\FH}'', we saw in \Cref{FHGivesComodules} that this same data could be expressed as an $E_* E$--comodule structure on $E_* X$.  In particular, {\FH} caused the marked map in \[E_* X \xrightarrow{\eta_R} E_*(E \sm X) \xleftarrow{\star} E_* E \otimes_{E_*} E_* X\] to become invertible.

In the present setting, consider the analogous composite
\begin{align*}
\pi_m E(X) & \xrightarrow{\eta_R} \pi_m E(E(X)) \\
& \xleftarrow{\mu \circ 1} \pi_m E(E(E(X))) \\
& \xleftarrow{\mathrm{compose}} \pi_m E(E(S^n)) \times \pi_n E(X).
\end{align*}

\begin{definition}
The \textit{unstable context of $E$} is the collection of cosimplicial abelian groups $\pi_* \sheaf{UD}_E(S^n)$.  In the case $n = 0$, this is a cosimplicial ring, and in the case $n \ne 0$ the $0$--simplices merely form a module over $\pi_* \sheaf{UD}_E(S^0)[0]$\todo{This is just $E_*$, right?}.\todo{Sort out exactly what structure lives here.}
\end{definition}

\begin{remark}
In the case that $E$ has K\"unneth isomorphisms, the ``backwards'' maps above become invertible, which is a kind of unstable analogue of the condition {\FH}.  This is the situation in which most of the classical work on this topic was done.\citeme{BCM, BJW, ...}\todo{Talk about how this motivates us to consider algebraically the $0$-- and $1$--simplices along, hoping that an eventual analogue of {\FH} will keep us from having to consider anything further.}
\end{remark}

\todo[inline]{I \emph{don't} really understand what sort of algebraic structure this gives us.  It would be nice to have an unstable scheme-theoretic analogue of the stable context, so that the homology of spaces gave us ``quasi-coherent sheaves'' over this unstable object (and, in good cases, the unstable Adams spectral sequence had its $E_2$--page computed by some homological algebra over this object; see BCM Section 6).}

Ignoring for the moment what the correct scheme-theoretic analogue of this might be, we will press onward and record the algebraic objects appearing in the presence of the unstable analogue of {\FH}.

\begin{definition}\todo{Can this definition be made without specifying the grading as such and instead using a $\G_m$--action?}
A Hopf ring $A_{*, *}$ over a graded ring $R_*$ is itself a graded ring object in the category $\CatOf{Coalgebras}_{R_*}$, sometimes called an $R_*$--coalgebraic graded ring object.  It has the following structure maps:
\begin{align*}
+ & \co A_{s, t} \times A_{s, t} \to A_{s, t} & \text{($A_{s, t}$ is an abelian group)} \\
\cdot & \co R_{s'} \otimes_{R_*} A_{s, t} \to A_{s+s', t} & \text{($A_{*, t}$ is a $R_*$--module)} \\
\Delta & \co A_{s, t} \to \bigoplus_{s' + s'' = s} A_{s', t} \otimes_{R_*} A_{s'', t} & \text{($A_{*, t}$ is a $R_*$--coalgebra)} \\
\ast & \co A_{s, t} \otimes_{R_*} A_{s', t} \to A_{s + s', t} & \text{(addition for the ring in $R_*$--coalgebras)} \\
\eta_\ast & \co R_* \to A_{*, 0} & \text{(null element for ring addition)} \\
\chi & \co A_{s, t} \to A_{s, t} & \text{(negation for the ring in $R_*$--coalgebras)} \\
\circ & \co A_{s, t} \otimes_{R_*} A_{s', t'} \to A_{s + s', t + t'} & \text{(multiplication map for the ring in $R_*$--coalgebras)} \\
\eta_\circ & \co R_* \to A_{*, 0} & \text{(null element for ring multiplication)}.
\end{align*}
These are required to satisfy various commutative diagrams. The least obvious is displayed in \Cref{DistributivityDiagram}, encoding the distributivity of $\circ$--``multiplication'' over $\ast$--``addition''.
\todo{I think that the ``skew--commutativity'' of $\circ$--multiplication is also worth mentioning.  This confused me for a good while, being most familiar with the material in Lecture 4.7.}
\begin{figure}
\begin{center}
\begin{tikzcd}
A_{s, t} \otimes_{R_*} (A_{s', t'} \otimes_{R_*} A_{s'', t'}) \arrow{r}{1 \otimes \ast} \arrow{d}{\Delta \otimes (1 \otimes 1)} & A_{s, t} \otimes_{R_*} A_{s' + s'', t'} \arrow{dddd}{\circ} \\
\left(\bigoplus_{s_1 + s_2 = s} A_{s_1, t} \otimes_{R_*} A_{s_2, t} \right) \otimes_{R_*} (A_{s', t'} \otimes_{R_*} A_{s'', t'}) \arrow{d}{\simeq} \\
\bigoplus_{s_1 + s_2 = s} \left(A_{s_1, t} \otimes_{R_*} A_{s_2, t}  \otimes_{R_*} A_{s', t'} \otimes_{R_*} A_{s'', t'} \right) \arrow{d}{1 \otimes \tau \otimes 1} \\
\bigoplus_{s_1 + s_2 = s} \left(A_{s_1, t} \otimes_{R_*} A_{s', t'} \otimes_{R_*} A_{s_2, t} \otimes_{R_*} A_{s'', t'} \right) \arrow{d}{\circ \otimes \circ} \\
\bigoplus_{s_1 + s_2 = s} \left(A_{s_1 + s', t + t'} \otimes_{R_*} A_{s_2 + s'', t + t'}\right) \arrow{r}{\ast} & A_{s + s' + s'', t + t'}, \\
\end{tikzcd}
\end{center}
\caption{The distributivity axiom for $\ast$ over $\circ$ in a Hopf algebra.}\label{DistributivityDiagram}
\end{figure}
\end{definition}

\begin{remark}\label{HopfRingFromOneRingSpectrum}
A ring spectrum $E$ with K\"unneth isomorphisms \[E_*(\OS{E}{m} \times \OS{E}{n}) \cong E_*(\OS{E}{m}) \otimes_{E_*} E_*(\OS{E}{n})\] gives rise to a Hopf ring $E_* \OS{E}{n} = \pi_* \sheaf{UD}_E(S^n)[1]$.  For a space $X$, the homology groups $E_* X$ form a comodule for this Hopf ring.
\end{remark}

One can modify this story in a number of minor ways.

\begin{remark}
One can restrict to the \emph{additive} unstable cooperations by passing to the quotient $Q^\ast E_* \OS{E}{*}$.  These corepresent the morphisms in a cocategory object in $\CatOf{Rings}$ (using the $\circ$--product for multiplication, which descends to $\ast$--indecomposables).  The ring $E_*$ corepresents the objects in this cocategory object.\todo{A lot of the homological algebra of unstable comodules exists only after passing to this quotient.  Try to explain why.}\todo{Explain this Remark, really. (1) Why does passing to the indecomposables project onto the additive cooperations? This should be thought of as an operation dual to restricting to the primitive unstable \emph{operations}. (2) Why a cocategory object?}\todo{Maybe put in the unstable $\subseteq$ unstable additive $\subseteq$ stable diagram? Talk about examples of these three things in, say, mod--$2$ homology?  Talk about homology suspension on this day, and make clear the comparison to the stable situation.}
\end{remark}

\begin{remark}
The procedure in \Cref{HopfRingFromOneRingSpectrum} can be generalized to the case of \emph{two} ring spectra, $E$ and $F$, equipped with K\"unneth isomorphisms \[E_*(\OS{F}{m} \times \OS{F}{n}) \cong E_*(\OS{F}{m}) \otimes_{E_*} E_*(\OS{F}{n}).\]  Again, the bigraded object $E_* \OS{F}{*}$ forms a Hopf ring.  These ``mixed cooperations'' appear as part of the cooperations for the ring spectrum $E \vee F$ --- or, from the perspective of spectral shemes, for the joint cover $\{\S \to E, \S \to F\}$.  The role of the mixed cooperations in this setting is to prevent the $(E \vee F)$--based unstable Adams spectral sequence from double-counting homotopy elements visible to both the unstable $E$-- and $F$--completions.\todo{I feel that this can be used to take an unstable comodule for $E$--theory and produce from it an unstable comodule for $F$--theory (up to a wrong-way map).  Martin Bendersky thought this was strange, but I don't think it's so odd, and I would like to understand how to straighten it out.}
\end{remark}

\todo{Does ``Cartesian'' mean anything in this setting?}
\todo{Section III.11 of Wilson's \textit{Primer} has a synopsis of how additive unstable operations should be treated.}
\citeme{Bendersky Curtis Miller's~\cite{BCM} \textit{The unstable Adams spectral sequence for generalized homology}}
\citeme{Boardman Johnson Wilson's~\cite{BJW} \textit{Unstable operations in generalized cohomology}}





%I think we should be able to see what the relevant ``flatness'' hypothesis should be from here, and then even in the case $E = H\F_p$ I think it should be visibly unreasonable to expect this map to be sufficiently surjective so that passing to the associated map off of the tensor product induces an isomorphism.  Instead, we really do have to pass to the additive cooperations.  (I also think it should be visible what the $E_*$--action on the two sides should be.  On the left, it should come from the usual scaling.  On the right, it should come from acting by the Hopf ring elements ``$[e]$'' in Steve's notation (cf.\ Section 4.3).)




% I think the relevant base-change diagram to consider is something like
% \begin{center}
% \begin{tikzcd}[column sep=2.2cm,row sep=2cm]
% \CatOf{Algebras}_E \arrow{r}{\eta_F} \arrow[leftarrow, shift left=0.20cm]{d}{\eta_E} & \text{$F \circ E$ algebras} \arrow{d} \\
% \CatOf{Spaces} \arrow[leftarrow,shift left=0.20cm]{u} \arrow[shift left=0.20cm]{r}{\eta_F} \arrow[leftarrow, shift right=0.20cm]{r} & \CatOf{Algebras}_F.
% \end{tikzcd}
% \end{center}
% A space $X$ gets pushed around this diagram like: up to $E \circ X$, over to $F \circ E \circ X$, down to $F \circ E \circ X$, where it receives a natural map \[F \circ X \to F \circ E \circ X.\]  In the case $E = F$, this is the interesting unit map, i.e., the coaction map.  Probably $\pi_* F \circ E \circ X$ is also the recipient of some map connected to the unstable version of \FH.




% I think that the unstable descent object along $E \vee F$ receives a map from a ``split descent object'', along the following lines.  Consider the $1$--simplices in $\sheaf{UD}_{E \vee F}(X)$:
% \begin{align*}
% (F \vee E) \circ (F \vee E) \circ X & \simeq F \circ (F \vee E) \circ X \times E \circ (F \vee E) \circ X \\
% & \simeq F \circ (F \circ X \times E \circ X) \times E \circ (F \circ X \times E \circ X) \\
% & \from (F \circ F \circ X \times F \circ E \circ X) \times (E \circ F \circ X \times E \circ E \circ X),
% \end{align*}
% where the last map is a K\"unneth-type map...?  (Actually, I'm not so sure about this now. I thought that having K\"unneth isomorphisms would mean that there would be an equivalence $E \circ (X \times Y) \simeq E \circ X \times E \circ Y$, but now I'm skeptical.  I think there's a map leftward of sets, but this isn't big enough: the Cartesian product of groups is (often) much smaller than the tensor product.)






\section{Unstable cooperations in ordinary homology}\label{UnstableSteenrodCoops}

The objects discussed in the previous Lecture appear to be almost bottomlessly complicated: there are so many groups and so many structure maps.  At first glance, it might seem like it's a hopeless enterprise to actually try to compute $\Ucontext{E}^*$ for any spectrum $E$, but in fact the plenty of structure maps give enough footholds that this is often feasible, provided we have sufficiently strong stomachs.  Today we will treat the case $E = H\F_2$, which requires us to introduce all of the relevant tools but whose computations turn out to be very straightforward.

The place to start is with a very old lemma:
\begin{lemma}
If $E$ is a spectrum with $\pi_{-1} E = 0$, then $\OS{E}{1} \simeq B\OS{E}{0}$. \qed
\end{lemma}\todo{clarification: should we specify $E$ to be an $\Omega$-spectrum so the condition gives us that it's connective?}
\noindent The essential point is that $B$ gives the connective delooping of $\OS{E}{0}$, so if $E$ is connective then this will yield the spaces in the $\Omega$--spectrum of $E$.  This is useful to us because $B\OS{E}{0}$ comes with a natural skeletal filtration, and this gives rise to a spectral sequence:
\begin{corollary}[{\cite[Theorem 2.1]{RavenelWilsonKthyOfEMSpaces}}]
There is a convergent spectral sequence of Hopf algebras of signature \[E^1_{*, j} = F_*(\Susp \OS{E}{0})^{\sm j} \Rightarrow F_* \OS{E}{1}.\]  \todo{In class you didn't write any $\Susp$.} In the case that $F$ has K\"unneth isomorphisms of the form \[F((\Susp \OS{E}{0})^{\sm j}) \cong F(\Susp \OS{E}{0})^{\otimes j},\] the $E^2$--page is identifiable as \[E^2_{*, *} \cong \Tor^{F_* \OS{E}{0}}_{*, *}(F_*, F_*). \qed\]
\end{corollary}
\noindent In general, if $E$ is a connective spectrum, we get a family of spectral sequences of signature \[E^2_{*, *} \cong \Tor^{F_* \OS{E}{j}}_{*, *}(F_*, F_*) \Rightarrow F_* \OS{E}{j+1}.\] \todo{For this you'll want an analogue of the lemma: something like $\OS{E}_j \simeq B\OS{E}_{j-1}$.  What is the connective hypothesis for this?  It can't be something like $\pi_{j-2} E = 0$, because that won't be satisfied?}

That this spectral sequence is multiplicative for the $\ast$--product is useful enough, but the situation is actually much, much better than this:
\begin{lemma}[{\cite[Theorem 2.2]{RavenelWilsonKthyOfEMSpaces}}]\label{CircProductAndDifferentials}
\citeme{This isn't the right citation. They blame this generality on a Thomason--Wilson article.}
Denote by $E^r_{*, *}(F_* \OS{E}{j})$ the spectral sequence considered above whose $E^2$--term is constructed from $\Tor$ over $F_* \OS{E}{j}$.  There are maps \[E^r_{*, *}(F_* \OS{E}{j}) \otimes_{F_*} F_* \OS{E}{m} \to E^r_{*, *}(F_* \OS{E}{j+m})\] which agree with the map \[F_* \OS{E}{j+1} \otimes_{F_*} F_* \OS{E}{m} \xrightarrow{\circ} F_* \OS{E}{j+m+1}\] on the $E^\infty$--page and which satisfy \[d^r(x \circ y) = (d^r x) \circ y. \qed\]
\end{lemma}
\noindent This Lemma is obscenely useful: it means that differentials can be transported \emph{between spectral sequences} for classes which can be decomposed as $\circ$--products.  This means that the bottom spectral sequence (i.e., the case $j = 0$) exerts a large amount of control over the others --- and this spectral sequence often turns out to be very computable.

We now turn to our example of $E = H\F_2$ and $F = H\F_2$.  To ground our induction, we will consider the first spectral sequence \[\Tor^{H\F_2{}_*(\F_2)}_{*, *}(\F_2, \F_2) \Rightarrow H\F_2{}_* B\F_2.\]  Using that $\RP^\infty$ gives a model for $B\F_2$, we use \Cref{HF2RPinftyExample} to analyze this spectral sequence: that Example states that as an $\F_2$--module, there is an isomorphism \[H\F_2{}_* B\F_2 \cong \F_2\{a_j \mid j \ge 0\}.\]  Using our further computation in \Cref{RPExampleFaulty}, we can also give a presentation of the Hopf algebra structure on $H\F_2{}_* B\F_2$: it is dual to the primitively-generated polynomial algebra on a single class, so forms a divided power algebra on a single class $a_\emptyset$ \todo{I don't understand why the notation is $\emptyset$.}.  In characteristic $2$, this decomposes as \[H\F_2{}_* B\F_2 \cong \Gamma[a_\emptyset] \cong \bigotimes_{j=0}^\infty \F_2[a_{(j)}] / a_{(j)}^2,\] where we have written $a_{(j)}$ for $a_\emptyset^{[2^j]}$ in the divided power structure.

\begin{corollary}
This $\Tor$ spectral sequence collapses at the $E^2$--page.
\end{corollary}
\begin{proof}
As an algebra, the homology $H\F_2{}_*(\F_2)$ of the discrete space $\F_2$ is presented by the truncated polynomial algebra \[H\F_2{}_*(\F_2) \cong \F_2[\F_2] = \F_2[[1] - [0]] / ([1] - [0])^{\ast 2}.\]\todo{Danny found this line confusing. You explain it more elaborately in person, by carefully moving the $(-)^{\ast 2}$ around.}  The $\Tor$--algebra of this is then divided power on a single class: \[\Tor^{H\F_2{}_*(\F_2)}_{*, *}(\F_2, \F_2) = \Gamma[a_\emptyset].\]  In order for the two computations to agree, there can therefore be no differentials in the spectral sequence.
\end{proof}

Now we turn to the rest of the induction:
\begin{theorem}\label{UnstableSteenrodInduction}
$H\F_2{}_* \OS{H\F_2}{t}$ is the exterior $\ast$--algebra on the $t$--fold $\circ$--products of the generators $a_{(j)} \in H\F_2{}_* B\F_2$.
\end{theorem}
\begin{proof}
Make the inductive assumption that this is true for some fixed value of $t$.  It follows that the $\Tor$ groups of the bar spectral sequence \[\Tor^{H\F_2{}_* \OS{H\F_2}{t}}_{*, *}(\F_2, \F_2) \Rightarrow H\F_2{}_* \OS{H\F_2}{t+1}\] form a divided power algebra generated by the same $t$--fold $\circ$--products.  An analogue of another Ravenel--Wilson lemma~\cite[Lemma 9.5]{RavenelWilsonKthyOfEMSpaces} gives a congruence\todo{It's conceivable that this congruence can be repaired to an equality, since the $2$--series for $\G_a$ is so abbreviated.  I have not worked this out.} \[(a_{(j_1)} \circ \cdots \circ a_{(j_t)})^{[2^{j_{t+1}}]} \equiv a_{(j_1)} \circ \cdots \circ a_{(j_t)} \circ a_{(j_{t+1})} \pmod{\text{decomposables}}.\] \todo{I'm guessing you mean $*$-decomposables?  In the calculation of the differential below, you can then use multiplicativity to deal with the decomposable terms, right?} It follows from \Cref{CircProductAndDifferentials} that the differentials vanish:
\begin{align*}
d((a_{(j_1)} \circ \cdots \circ a_{(j_t)})^{[2^{j_{t+1}}]}) & \equiv d(a_{(j_1)} \circ \cdots \circ a_{(j_t)} \circ a_{(j_{t+1})}) \pmod{\text{decomposables}} \\
& = a_{(j_1)} \circ d(a_{(j_2)} \circ \cdots \circ a_{(j_{t+1})}) = 0.
\end{align*}
Hence, the spectral sequence collapses.  To see that there are no multiplicative extensions, note that the only potentially undetermined multiplications occur as $\ast$--squares of exterior classes.  However, the $\ast$--squaring map is induced by the topological map \[\OS{H\F_2}{t} \xrightarrow{\cdot 2} \OS{H\F_2}{t},\] which is already null on the level of spaces.  It follows that there are no extensions and the induction holds.
\end{proof}

\begin{corollary}
It follows that \[H\F_2{}_* \OS{H\F_2}{*} \stackrel\cong\leftarrow \bigoplus_{t=0}^\infty (H_*(\RP^\infty; \F_2))^{\wedge t},\] where $(-)^{\wedge t}$ denotes the $t$\textsuperscript{th} exterior power in the category of Hopf algebras.
\end{corollary}
\begin{proof}
The leftward direction of this isomorphism is realized by the $\circ$--product.
\end{proof}

\begin{remark}\label{UnstableCoopnsForHF2AndGa}
Our computation of the full Hopf ring of unstable cooperations can be winnowed down to give information about particular classes of cooperations.  For instance, the \emph{additive} unstable cooperations are given by passing to the $\ast$--indecomposable quotient\todo{Later you use $Q^*$ instead of $Q_*$ to denote $\ast$--indecomposables.  Settle on one of the two.  See also remark 4.16.}
\begin{align*}
Q_{\ast} H\F_2{}_* \OS{H\F_2}{*} & \cong \F_2\left\{a_{(I_0)} \circ \cdots \circ a_{(I_t)}\right\} \\
& \cong \F_2[\xi_0, \xi_1, \xi_2, \ldots].
\end{align*} \todo{What's $I_0, I_1, \ldots$?}
In terms of \Cref{SteenrodAlgIdentifiedWithAutGa}, we have \[\Spec Q_{\ast} H\F_2{}_* \OS{H\F_2}{*} \cong \InternalEnd(\G_a).\]  One passes to the \emph{stable} cooperations by taking the colimit along the homology suspension element $a_{(0)} = \xi_0$.\todo{Define what the homology suspension element $e$ is.  The point is that the equivalence $\OS{E}{n} \simeq \Loops \OS{E}{n+1}$ is adjoint to a map $\Susp \OS{E}{n} \to \OS{E}{n+1}$, and the effect of this map on $F$--homology is $\circ$--ing with $e$.}  This has the effect of adjoining a $\circ$--product inverse to $a_{(0)}$, i.e.,\todo{Is this right? What happened to $\mathcal A_*$ versus $\mathcal AP_0$?}
\begin{align*}
(Q_{\ast} H\F_2{}_* \OS{H\F_2}{*})[a_{(0)}^{\circ(-1)}] & \cong \F_2[\xi_0^\pm, \xi_1, \xi_2, \ldots],
\end{align*}
which is exactly the ring of functions on $\InternalAut(\G_a)$ considered in \Cref{SteenrodAlgIdentifiedWithAutGa}.
\end{remark}


\begin{remark}[{\cite[Theorems 8.5 and 8.11]{Wilson}}]
The odd--primary analogue of this result appears in Wilson's book.  In that situation, the bar spectral sequences do not degenerate\todo{Explain this. You messed it up in class.} but rather have a single family of differentials, and the result imposes a single relation on the free Hopf ring.  The end result is \[H\F_p{}_* \OS{H\F_p}{*} \cong \frac{\bigotimes_{I, J} \F_p[e_1 \circ \alpha_I \circ \beta^J, \alpha_I \circ \beta^J]}{(e_1 \circ \alpha_I \circ \beta^J)^{\ast 2} = 0, (\alpha_I \circ \beta^J)^{\ast p} = 0, e_1 \circ e_1 = \beta_1},\] where $e_1 \in (H\F_p)_1 \OS{H\F_p}{1}$ is the homology suspension element, $\alpha_{(j)} \in (H\F_p)_{2p^j} \OS{H\F_p}{1}$ are the analogues of the elements considered above, and $\beta_{(j)} \in (H\F_p)_{2p^j} \CP^\infty$ are the algebra generators of the Hopf algebra dual of the ring of functions on the formal group $\CP^\infty_{H\F_p}$ associated to $H\F_p$ by its natural complex orientation.  (In particular, the Hopf ring is \emph{free} on these Hopf algebras, subject to the single interesting relation $e_1 \circ e_1 = \beta_{(0)}$.)\todo{I think this relation is supposed to be analogous to $S^1 \sm S^1 \simeq S^2 = \CP^1$.} \todo{You wrote $\beta^J$ and $\beta_1$ in the display.  What is the relation between $\beta^J$ and $\beta_1$ and $\beta_{(j)}$?  Is $\beta_{(0)} = \beta_1$?}
\end{remark}





\todo{Neil's MO answer about $H_* K(\Z, 3)$: http://mathoverflow.net/a/216041/1094}

%\begin{definition}
%We spell out some of the Hopf algebra constructions named above.  For a cocommutative $R$--coalgebra $C$, we define its free commutative and cocommutative Hopf $R$--algebra~\cite{Takeuchi} to have underlying algebra \[\frac{\operatorname{SymmetricAlgebra} \left(C \otimes_R (\chi C)\right)}{\left( \begin{array}{c} c \otimes \chi c = 1 \end{array} \right)}\] with diagonal \[\Delta(c_1 \otimes \cdots \otimes c_k \otimes \chi c'_1 \otimes \cdots \otimes \chi c'_{k'}) = \Delta c_1 \otimes \cdots \otimes \Delta c_k \otimes \chi (\Delta c'_1) \otimes \cdots \otimes \chi(\Delta c'_{k'})\] and antipode \[\chi(c_1 \otimes \cdots \otimes c_k \otimes \chi c'_1 \otimes \cdots \otimes \chi c'_{k'}) = \chi c_1 \otimes \cdots \otimes \chi c_k \otimes c'_1 \otimes \cdots \otimes c'_{k'}.\]  Then, given a Hopf $R$--algebra $A$, we define the free Hopf ring~\cite[Definition 4.2, Proposition 2.16]{HuntonTurner} to be \[\left. \bigoplus_{k=0}^\infty A^{\wedge_R k} \middle/ \left(x \wedge y = \sum_i (x'_i \ast y') \wedge (x''_i \ast y'') \middle| \begin{array}{c} y = y' \ast y'', \\ \Delta x = \sum_i x'_i \otimes x''_i \end{array} \right) \right.\] with $\circ$--product given by the natural maps $A^{\wedge_R n} \otimes_R A^{\wedge_R m} \to A^{\wedge_R (n+m)}$.
%\end{definition}











\section{Algebraic unstable cooperations}

One of our goals for this Case Study is to study the mixed unstable cooperations $E_* \OS{G}{2*}$ for complex-orientable cohomology theories $E$ and $G$.  These turn out to behave more regularly than one might expect, in the sense that there is a uniform algebraic model and a comparison map which is often an isomorphism.  In order to formulate what will become our main result, we will need to begin with some algebraic definitions.

\begin{definition}
Let $R$ and $S$ be graded rings.  We can form a Hopf ring over $R$ by forming the ``ring--ring'' $R[S]$: as an $R$--module, this is free and generated by symbols $[s]$ for $s \in S$.  The Hopf ring maps $\ast$, $\circ$, and $\Delta$ are determined by the formulas
\begin{align*}
R[S] \otimes_R R[S] & \xrightarrow{\ast} R[S] & [s] \ast [s'] & = [s + s'], \\
R[S] \otimes_R R[S] & \xrightarrow{\circ} R[S] & [s] \circ [s'] & = [s \cdot s'], \\
R[S] & \xrightarrow{\Delta} R[S] \otimes_R R[S] & \Delta [s] & = [s] \otimes [s].
\end{align*}
For instance, the distributivity axiom is checked in the calculation
\begin{align*}
[s''] \circ ([s] \ast [s']) & = ([s''] \circ [s]) \ast ([s''] \circ [s']) \\
[s''] \circ [s + s'] & = \\
[s''(s + s')] & = \\
& = [s'' s] \ast [s'' s'] \\
& = [s'' s + s'' s'].
\end{align*}
\end{definition}

\begin{definition}
Let $C$ be an $R$--coalgebra, and let $S$ be an auxiliary ring.  We can form a free Hopf ring $R[S][C]$ on $C$ under $R[S]$, which has the property \[\CatOf{HopfRings}_{R[S]/}(R[S][C], T) \cong \CatOf{Coalgebras}_{R/}(C, T).\]  In terms of elements, it is an $R$--module spanned by $R[S]$ and $C$, as well as free $\ast$-- and $\circ$--products of elements of $C$, altogether subjected to the Hopf ring relations.
\end{definition}

\begin{remark}
Given an $R$--coalgebra $C$, we can form the free commutative Hopf algebra on $C$ by taking its associated symmetric algebra.  This is a degenerate case of a free Hopf ring construction, where $S$ is taken to be the zero ring.
\end{remark}

Now we turn our eyes to topology.  Let $E$ and $F$ be two complex-orientable cohomology theories where $F$ has enough K\"unneth isomorphisms\todo{What does this mean specifically, again?}.  Set $R = F_*$, $S = E_*$, and $C = F_* \CP^\infty$ to form the free Hopf ring $R[S][C] = F_*[E_*][F_* \CP^\infty]$.
\begin{lemma}
Orientations of $E$ induce maps $F_*[E^*][F_* \CP^\infty] \to F_* \OS{E}{*}$. \todo{You're not very consistent with $F_*[E_*]$ vs.\ $F_*[E^*]$.}
\end{lemma}
\begin{proof}
To construct this map using universal properties, we need to check that $F_* \OS{E}{*}$ is a Hopf ring under $F_*[E^*]$, and then we need to produce a map $F_* \CP^\infty \to F_*[E^*]$.  For the first task, $F_* \OS{E}{*}$ is already an $F_*$--module.  An element $v \in E^n$ \todo{This means $\pi_{-n} E$, right?} corresponds to a path component $[v] \in \pi_0 \OS{E}{n}$, which pushes forward along \[\pi_0 \OS{E}{n} \to F_0 \OS{E}{n}\] to give an element $[v] \in F_0 \OS{E}{n}$.  One can check that this determines a map of Hopf rings $F_*[E^*] \to F_* \OS{E}{*}$.

Next, we will use our assumed data of orientations.  The complex-orientation of $E$ gives a preferred class $\CP^\infty \to \OS{E}{2}$, representing the coordinate $x \in E^2 \CP^\infty$.  By applying $F$--homology to this representing map, we get a map of $F_*$--coalgebras \[F_* \CP^\infty \to F_* \OS{E}{2} \subseteq F_* \OS{E}{*}.\]  Universality gives the desired map of Hopf rings.
\end{proof}

There is no reason to expect $F_* \OS{E}{*}$ to be a free Hopf ring, and so it would be naive to expect this map to be an equivalence.  Indeed, Ravenel and Wilson show that orientations of $E$ and $F$ together beget an interesting relation.  An orientation on $E$ gives us a comparison map as above, and an orientation on $F$ gives a collection of preferred elements $\beta_j \in F_{2j} \CP^\infty$.  Their result is to show that these elements are subject to the formal group laws \emph{both} of $F$ and of $E$:
\begin{theorem}[{\cite[Theorem 3.8]{RavenelWilsonHopfRingForMU}, \cite[Theorem 9.7]{Wilson}}]\label{UnstableRWRelation}
Write $\beta(s)$ for the formal sum $\beta(s) = \sum_j \beta_j x^j$.  Then, in $F_* \OS{E}{*}\ps{s, t}$, there is an equation \[\beta(s +_F t) = \beta(s) +_{[E]} \beta(t),\] where
\begin{align*}
\beta(s +_F t) & = \sum_n \beta_n \left(\sum_{i, j} a_{ij}^F s^i t^j \right)^n, \\
\beta(s) +_{[E]} \beta(t) & = \bigast_{i, j} \left([a_{ij}^E] \circ \left( \sum_k \beta_k s^k \right)^{\circ i} \circ \left( \sum_\ell \beta_\ell t^\ell \right)^{\circ j} \right).
\end{align*}
\end{theorem}
\begin{proof}[Proof sketch]
This is a matter of calculating the behavior of \[\CP^\infty \times \CP^\infty \xrightarrow{\mu} \CP^\infty \xrightarrow{x} \OS{E}{2}\] in two different ways: using the effect of $\mu$ in $F$--homology and pushing forward in $x$, or using the effect of $\mu$ in $E$--cohomology and pushing forward along the Hurewicz map $\S \to F$.
\end{proof}

Altogether, this motivates our algebraic model for the Hopf ring of unstable cooperations:

\begin{definition}\label{ComparisonMapInCOUnstableCoopns}
\todo{There is probably a natural map to the scheme of homomorphisms that doesn't require picking a coordinate.}
\todo{I don't like the upper-$R$ notation.  Having a scheme theoretic description of this object should let us pick a better name.  I'm also unhappy that ``mixed unstable cooperations'' is an achiral name, meaning it doesn't indicate which object is the spectrum and which is the infinite loopspace.}
Define $F_*^R \OS{E}{*}$ to be the quotient of $F_*[E^*][F_* \CP^\infty]$ by the relation above.  There is a natural \textit{comparison map} \[F_*^R \OS{E}{*} \to F_* \OS{E}{*}.\] 
\end{definition}

We will show that for many such $E$ and $G$ this map is an isomorphism.  Before embarking on this, however, we would like to explore the connection to formal groups suggested by the formula in \Cref{UnstableRWRelation}.  Note that the Hopf ring-ring $R[S]$ has a natural augmentation given by $[s] \mapsto 1$, so that $\<s\> = [s] - [0]$ form a generating set of the augmentation ideal.
\begin{lemma}\label{ArithmeticInQAst}
In the $\ast$--indecomposable quotient $Q^* R[S]$ \todo{I'm confused about the $\ast$--indecomposable quotient.  For example, is the expression $[s] \ast [s']$ you write below equal to zero?  In fact, why isn't everything zero: $[x] = [x - y] \ast [y] \equiv 0$?  Normally you look at products of elements of positive degree, but what does this mean in this case?}, there are the formulas
\begin{align*}
\<s\> + \<s'\> & = \<s + s'\>, &
\<s\> \circ \<s'\> & = \<s s'\>.
\end{align*}
\end{lemma}

\begin{proof}
Modulo $\ast$--decomposables, we can write\todo{Is it useful to say that passing to $Q^\ast$ ``sends $\ast$ to $\ast$'' in the sense described below? And that this degenerates to ``sends $\ast$ to $+$'' in the case of a ring-ring?}\todo{what do you mean by sending $\ast$ to $\ast$? This doesn't seem to happen below. AY}  \[0 \equiv \<s\> \ast \<s'\> = [s] \ast [s'] - [s] - [s'] + [0] = \<s + s'\> - \<s\> - \<s'\>.\]  We can also directly calculate \[\<s\> \circ \<s'\> = [s s'] - [0] - [0] + [0] = \<s s'\>. \qedhere\]
\end{proof}

\begin{corollary}
Orientations of $E$ and $F$ induce isomorphisms\todo{This is a little sloppy. Where are the coefficients of $E$ being sent? Is $Q^* R[S]$ really $R \otimes S$ like Hood calculated?  Hm.}
\[\Spec Q^* F_*^R \OS{E}{*} \cong \InternalHom{FormalGroups}(\CP^\infty_E, \CP^\infty_F).\]
\end{corollary}
\begin{proof}
This is a matter of calculating $Q^* F_*^R \OS{E}{*}$.  Using \Cref{ArithmeticInQAst}, we have \[\bigast_{i, j} \left([a_{ij}^E] \circ \left( \sum_k \beta_k s^k \right)^{\circ i} \circ \left( \sum_\ell \beta_\ell t^\ell \right)^{\circ j} \right) \equiv \sum_{i, j} a_{ij}^E \left( \sum_k \beta_k s^k \right)^i \left( \sum_\ell \beta_\ell t^\ell \right)^j \;\text{(in $Q^*$)}.\]  It follows that \[Q^* F_*^R \OS{E}{*} = \left. F_*[\beta_0, \beta_1, \beta_2, \ldots] \middle/ \left( \beta(s +_F t) = \beta(s) +_E \beta(t) \right) \right. . \qedhere\] \todo{What happened to the $E_*$ in $F_*[E_*]$ in this expression?}
\end{proof}
\todo{You could also include the odd part of the approximation, with $e \circ e = \beta_1$, and from that calculate the algebraic model of the stabilization.}

Next time, we will investigate $F_* \OS{E}{*}$ in the more modest and concrete setting of $F = H\F_p$ and $E = BP$.  One might think that this is merely a first guess at a topological computation that seems accomplishable after \Cref{UnstableSteenrodCoops}, but we will quickly show that it plays the role of a universal example of this sort of calculation.



\section{Complex-orientable cooperations}\label{COableCoopnsII}
\todo{Jeremy found a paper (Chan's \textit{A simple proof that the unstable (co-)homology of the Brown--Peterson spectrum is torsion-free}, see also Wilson's Primer's Section 10) where $H_* \OS{BP}{2*}$ is proven to be bipolynomial (and even!) without any Hopf ring rigamarole. It looks like the method of proof is not very different from the Hopf ring one, but it's much shorter... and maybe the result will fall out of the Dieudonne module calculations anyhow?  Consider it as an option after you break this lecture in two.}
\citeme{Pages 266--270 of Ravenel--Wilson, especially the bottom of 268.}

\begin{center}
\textbf{Convention: We will write $H$ for $H\F_p$ for the duration of the lecture.}
\end{center}

Today we are aiming for a proof of the following Theorem:

\begin{theorem}[{\cite[Theorem 4.2]{RavenelWilsonHopfRingForMU}}]\label{HFpBPCooperationsTheorem}
The natural homomorphism \[H_*^R \OS{BP}{2*} \to H_* \OS{BP}{2*}\] is an isomorphism.  (In particular, $H_* \OS{BP}{2*}$ is even--concentrated.)
\end{theorem}

\noindent This is proved by a fairly elaborate counting argument, and as such our first move will be to produce an upper bound for the size of the source Hopf ring.  To begin, consider the following consequence of \Cref{ArithmeticInQAst}:

\begin{corollary}
As a $\circ$--algebra, \[Q^* H_0^R \OS{BP}{2*} \cong \F_p[[v_n] - [0_{-|v_n|}] \mid n \ge 1],\] where $0_{-|v_n|}$ denotes the null element of $BP^{|v_n|}(*)$. \qed
\end{corollary}

Directly from the definition of $H_*^R \OS{BP}{2*}$, we now know that $Q^* H_*^R \OS{BP}{2*}$ is generated by $[v_n] - [0_{-|v_n|}]$ for $n \ge 1$ and $b_j$, $j \ge 0$. \todo{Is $b_j = \beta_j$?} In fact, $p$--typicality shows~\cite[Lemma 4.14]{RavenelWilsonHopfRingForMU} that it suffices to consider $b_{p^d} = b_{(d)}$ for $i \ge 0$.  Altogether, this gives a secondary comparison map \[A := \F_p[[v_n], b_{(d)} \mid n > 0, d \ge 0] \onto Q^* H_*^R \OS{BP}{2*}.\] \todo{I don't remember how $A$ is graded.} This map is not an isomorphism, as these elements are subject to the following relation:

\begin{lemma}[{\cite[Lemma 3.14]{RavenelWilsonHopfRingForMU}, \cite[Theorem 9.13]{Wilson}}]
Write $I = ([p], [v_1], [v_2], \ldots)$, and work in $Q^* H_* \OS{BP}{2} / I^{\circ 2} \circ Q^* H_* \OS{BP}{2}$ \todo{Should this be $Q^* H_* \OS{BP}{2*} / I^{\circ 2} \circ Q^* H_* \OS{BP}{2*}$ instead?}.  For any $n$ we have \[\sum_{i=1}^n [v_i] \circ b_{(n-i)}^{\circ p^i} \equiv 0.\]
\end{lemma}
\begin{proof}
Consider the series expansion of $\beta_0 = \beta(ps) = [p]_{[BP]}(\beta(s))$.
\end{proof}

Let $r_n$, the $n${\th} relation, denote the same sum taken in $A$ instead: \[r_n := \sum_{i=1}^n [v_i] \circ b_{(n-i)}^{\circ p^i}.\]  \todo{You write $\circ$.  Is $A$ a Hopf ring as well?} The Lemma then shows that the pushforward of $r_n$ into $Q^* H_* \OS{BP}{2*}$ is in the ideal generated by $I^{\circ 2}$.\todo{There's a missing thought here (which Hood caught in class): why does the death of this element under $I^{\circ 2}$ say anything about killing $r_n$ in the original algebra?}  Ravenel and Wilson show the following well-behavedness result about these relators, by a fairly tedious argument:\todo{I wonder if there is a better version of this argument where formal geometry gets involved.}

\begin{lemma}[{\cite[Lemma 4.15.b]{RavenelWilsonHopfRingForMU}}]
The sequence $(r_1, r_2, \ldots)$ is regular in $A$. \qedhere
\end{lemma}

\noindent This is exactly what we need to get our size bound.

\begin{lemma}
Set
\begin{align*}
c_{i,j} & = \dim_{\F_p} Q^* H_i^R \OS{BP}{2j}, &
d_{i,j} & = \dim_{\F_p} \F_p[[v_n], b_{(0)}]_{i,j}.
\end{align*}
Then $c_{i,j} \le d_{i,j}$ and $d_{i,j} = d_{i+2,j+1}$.
\end{lemma}
\begin{proof}
We have seen that $c_{i,j}$ is bounded by the $\F_p$--dimension of \[\F_p[[v_n], b_{(d)} \mid d \ge 0]_{i,j} / (r_1, r_2, \ldots).\]  But, since this ideal is regular and $|r_j| = |b_{(j)}|$, this is the same count as $d_{i,j}$.  The other relation among the $d_{i,j}$ follows from multiplication by $b_{(0)}$, with $|b_{(0)}| = (2, 1)$.\todo{We also need that one of the bidegrees of $[v_n]$ is zero, right?}
\end{proof}

We now turn to showing that this estimate is \emph{sharp} and that the secondary comparison map is \emph{onto}, and hence an isomorphism, using the bar spectral sequence.  Recalling that the bar spectral sequence converges to a the homology of the \emph{connective} delooping, let $\OS{BP}{2*}'$ denote the connected component of $\OS{BP}{2*}$ containing $[0_{2*}]$.  We will then demonstrate the following theorem inductively:
\begin{theorem}[{\cite[Induction 4.18]{RavenelWilsonHopfRingForMU}}]\label{HFpBPCooperationsInduction}
The following hold for all values of the induction index $k$:
\begin{enumerate}
\item $Q^* H_{\le 2(k-1)} \OS{BP}{2*}'$ is generated by $\circ$--products of the $[v_n]$ and $b_{(j)}$.
\item $H_{\le 2(k-1)} \OS{BP}{2*}'$ is isomorphic to a polynomial algebra in this range.
\item For $0 < i \le 2(k-1)$, we have $d_{i,j} = \dim_{\F_p} Q^* H_i \OS{BP}{2j}$.
\end{enumerate}
\end{theorem}

\noindent Before addressing the theorem, we show that this finishes our calculation:
\begin{proof}[{Proof of \Cref{HFpBPCooperationsTheorem}, assuming \Cref{HFpBPCooperationsInduction} for all $k$}]
\todo{This could be typeset better, by numbering the parts of \Cref{HFpBPCooperationsTheorem} and just referring to numbered claims.}
Recall that we are considering the natural map \[H_*^R \OS{BP}{2*} \to H_* \OS{BP}{2*}.\]  The first part of \Cref{HFpBPCooperationsInduction} shows that this map is a surjection.  The third part of \Cref{HFpBPCooperationsInduction} together with our counting estimate shows that the induced map \[Q^* H_*^R \OS{BP}{2*} \to Q^* H_* \OS{BP}{2*}\] is an isomorphism.  Finally, the second part of \Cref{HFpBPCooperationsInduction} says that the original map, before passing to $\ast$--indecomposables, must be an isomorphism as well.
\end{proof}

\begin{proof}[{Proof of \Cref{HFpBPCooperationsInduction}}]
The infinite loopspaces in $\OS{BP}{2*}$ are related by $\Loops^2 \OS{BP}{2(*+1)}' = \OS{BP}{2*}$, so we will use two bar spectral sequences to extract information about $\OS{BP}{2(*+1)}'$ from $\OS{BP}{2*}$.  Since we have assumed that $H_{\le 2(k-1)} \OS{BP}{2*}$ is polynomial in the indicated range, we know that in the first spectral sequence \[E^2_{*, *} = \Tor^{H_* \OS{BP}{2*}}_{*, *}(\F_p, \F_p) \Rightarrow H_* \OS{BP}{2*+1}\] the $E^2$--page is, in the same range, exterior on generators in $\Tor$--degree $1$ and topological degree one higher than the generators in the polynomial algebra.  Since differentials lower $\Tor$--degree, the spectral sequence is multiplicative, and there are no classes on the $0$--line, it collapses in the range $[0, 2k-1]$.  Additionally, since all the classes are in odd topological degree, there are no algebra extension problems, and we conclude that $H_* \OS{BP}{2*+1}$ is indeed exterior up through degree $(2k-1)$.

We now consider the second bar spectral sequence \[E^2_{*, *} = \Tor^{H_* \OS{BP}{2*+1}}_{*, *}(\F_p, \F_p) \Rightarrow H_* \OS{BP}{2(*+1)}.\]  The $\Tor$ algebra of an exterior algebra is divided power on a class of topological dimension one higher.  Since these classes are now all in even degrees, the spectral sequence collapses in the range $[0, 2k]$.  Additionally, these primitive classes are related to the original generating classes by double suspension, i.e., by circling with $b_{(0)}$.  This shows the first inductive claim on the \emph{primitive classes} through degree $2k$, and we must argue further to deduce our generation result for $x^{[p^j]}$ of degree $2k$ with $j > 0$.  By inductive assumption, we can write \[x = [y] \circ b_{(0)}^{\circ I_0} \circ b_{(1)}^{\circ I_1} \circ \cdots,\] and one may as well consider the element \[z := [y] \circ b_{(j)}^{\circ I_0} \circ b_{(j+1)}^{\circ I_1} \circ \cdots.\]  This element isn't $x^{[p^j]}$ on the nose, but the diagonal of $z - x^{[p^j]}$ lies in lower filtration degree --- i.e., it is primitive as far as the filtration is concerned --- and so we are again done.

The remaining thing to do is to use the size bounds: the only way that the map \[H_*^R \OS{BP}{2*} \to H_* \OS{BP}{2*}\] could be surjective is if there were multiplicative extensions in the spectral sequence joining $x^{[p]}$ to $x^p$.  Granting this, we see that the module ranks of the algebra itself and of its indecomposables are exactly the right size to be a free (i.e., polynomial) algebra, and hence this must be the case.
\end{proof}

Having accomplished \Cref{HFpBPCooperationsTheorem}, we reduce a general computation to it:

\begin{corollary}[{\cite[Corollary 4.7]{RavenelWilsonHopfRingForMU}}]\label{HopfRingForEBP}
For a complex-orientable cohomology theory $E$, the natural maps
\begin{align*}
E_*^R \OS{MU}{2*} & \to E_* \OS{MU}{2*}, &
E_*^R \OS{BP}{2*} & \to E_* \OS{BP}{2*}
\end{align*}
are isomorphisms of Hopf rings.
\end{corollary}
\begin{proof}
First, because $MU_{(p)}$ splits multiplicatively as a product of $BP$s, we deduce from \Cref{HFpBPCooperationsTheorem} the case of $E = H\F_p$.  Since $H\F_p{}_* \OS{BP}{2*}$ is even, it follows that $H\Z_{(p)}{}_* \OS{BP}{2*}$ is torsion--free on a lift of a basis, and similarly (working across primes) $H\Z_* \OS{MU}{2*}$ \todo{You changed from $BP$ to $MU$ -- is this intentional?} is torsion--free on a simultaneous lift of basis.  Next, using torsion--freeness, we conclude from an Atiyah--Hirzebruch spectral sequence that $MU_* \OS{MU}{2*}$ is even and torsion--free itself, and moreover that the comparison is an isomorphism.  Lastly, using naturality of Atiyah--Hirzebruch spectral sequences, given a complex--orientation $MU \to E$ we deduce that the spectral sequence \[E_* \otimes H_*(\OS{MU}{2*}; \Z) \cong E_* \otimes_{MU_*} MU_* \OS{MU}{2*} \Rightarrow E_* \OS{MU}{2*}\] collapses, and similarly for the case of $BP$.  The theorem follows.
\end{proof}

This is an impressively broad theorem: the loopspaces $\OS{MU}{2*}$ are quite complicated, and that any general statement can be made about them is remarkable.  That this fact follows from a calculation in $H\F_p$--homology and some niceness observations is meant to showcase the density of $\CP^\infty_{H\F_p} \cong \G_a$ inside of $\moduli{fg}$.  However, \Cref{UnstableCoopnsForHF2AndGa} indicates that this Corollary does not cover all possible cases that the comparison map in \Cref{ComparisonMapInCOUnstableCoopns} becomes an isomorphism.  In the remainder of the Case Study, we will investigate two other classes of $E$ and $G$ where this holds.

\todo{Should you mention the odd--dimensional stuff? You passed through it in the course of the proof anyway: you can see that $H_* \OS{BP}{2*+1}$ is exterior on homology suspensions of algebra generators on degree below.  This comports with what you already suspected about these unstable algebras.}








\section{Dieudonn\'e modules}\label{SectionDieudonneModules}

Our goal today is strictly algebraic.  Because the category of finite type commutative and cocommutative Hopf algebras over a ground field $k$ is an abelian category, it admits a presentation as the module category for some (possibly noncommutative) ring.  The description of this ring and of the explicit assignment from a group scheme to linear algebraic data is the subject of \textit{Dieudonn\'e theory}.  We will give a survey of some of the results of Dieudonn\'e theory today, including three different presentations of the equivalence.\footnote{Emphasis on ``\emph{some of the results}''.  Dieudonn\'e theory is an enormous subject with many interesting results both internal and connected to arithmetic geometry, which we'll explore almost none of.}

\citeme{Weinstein's geometry of Lubin--Tate spaces notes}
Start with a formal line $V$ over a ground ring $A$, let $\G$ denote $V$ equipped with a group structure, and let $\Omega^1_{V/k}$ be the module of K\"ahler differentials on $V$.  We have previously been interested in the \textit{invariant differentials} $\omega_{\G} \subseteq \Omega^1_{V/A}$ on $V$, back when we first discussed logarithms in \Cref{RationalFGLsHaveLogarithms}.  Such a differential gave rise to a logarithm through integration, in the case that $A$ was a $\Q$--algebra.  However, if $A$ had positive characteristic $p$ then there would be an obstruction to integrating terms with exponents of the form $-1 \pmod p$, which in turn led us to the notion of $p$--height explored in \Cref{MfgI:Height}.

A slightly different twist on this set-up leads to a new story entirely.  Recall that $\Omega^1_{V/A}$ forms the first level of the \textit{algebraic de Rham complex} $\Omega^*_{V/A}$.  The translation invariant differentials studied in the theory of the logarithm are those differentials so that the identity $\mu^* - \pi_1^* - \pi_2^* = 0$ \todo{What are $\mu$, $\pi_1$ and $\pi_2$?} holds \emph{at the chain level}.  We can weaken this to request only that that difference be \emph{exact}, or zero at the level of cohomology of the algebraic de Rham complex.  This condition begets a sub--$A$--module $D(\G/A)$ of $H^1_{dR}(\G/A)$ consisting of those $1$--forms which are cohomologically translation invariant.

\begin{example}
Let $A$ be a $\Z$--flat ring, let $\G$ be a formal group over $A$, and let $x$ be a coordinate on $\G$.  Set $K = A \otimes \Q$, so that $A \to K$ is an injection.  There is then a diagram of exact rows \todo{question: so here, the point is that you are restricting to integrals with no constant term, and that is the same as taking the quotient of the actual differentials, since the map $A\ps{x} -> \Omega^1_{A\ps{x}/A}$ is injective on that submodule? AY}
\begin{center}
\begin{tikzcd}[column sep=0.5em]
0 \arrow{r} & \left\{\begin{array}{c}\text{integrals with} \\ \text{$A$ coefficients}\end{array}\right\} \arrow{r} \arrow[equal]{d} & \{\text{all conceivable integrals}\} \arrow{r} \arrow[equal]{d} & \{\text{missing integrals}\} \arrow{r} \arrow[equal]{d} & 0 \\
0 \arrow{r} & x A\ps{x} \arrow{r} & \left\{ f \in x K\ps{x} \middle| f' \in A\ps{x} \right\} \arrow{r}{d} & H^1_{dR}(\G/A) \arrow{r} & 0 \\
0 \arrow{r} & x A\ps{x} \arrow{r} \arrow[equal]{u} & \left\{ f \in x K\ps{x} \middle| \begin{array}{c}f' \in A\ps{x}, \\ \delta f \in A\ps{x,y} \end{array} \right\} \arrow{u} \arrow{r}{d} & D(\G/A) \arrow{r} \arrow{u} & 0,
\end{tikzcd}
\end{center} \todo{This is just the definition of $H^1_{dR}$ in terms of cocycles and coboundaries, right?}
where $\delta$ \todo{What's $\delta$?}is induced by $\delta [\omega] = (\mu^* - \pi_1^* - \pi_2^*)[\omega]$.
\end{example}

% \begin{lemma}
% In the case that $\G$ is $p$--divisible, there is an exact sequence \[0 \to \omega_{\G} \to D(\G/A) \to \operatorname{Lie} \G^\vee \to 0.\]
% \end{lemma}

% \begin{remark}
% Let $A$ be a complex abelian variety, in which case there is a classical Hodge decomposition \[0 \to H^0(A; \Omega^1) \to H^1_{dR}(A; \C) \to H^1(A; \sheaf O_A) \to 0.\]  The first term agrees with invariant differentials, and the second term agrees with $\operatorname{Lie} A^\vee$.
% \end{remark}

The flatness condition in the Example is important to getting the calculation to work out right, and of course it is not satisfied when working over a perfect field of positive characteristic $p$ --- our favorite setting in \Cref{MfgI:Height} and \Cref{ChapterFiniteSpectra} more generally.  However, de Rham cohomology has the following remarkable lifting property (which we have specialized to $H^1_{dR}$):

\begin{theorem}
Let $A$ be a $\Z_{(p)}$--flat ring, let $f_1(x), f_2(x) \in A\ps{x}$ be power series without constant term.  If $f_1 \equiv f_2 \pmod{p}$, then for any differential $\omega \in A\ps{x} dx$ the difference $f_1^*(\omega) - f_2^*(\omega)$ is exact.
\end{theorem}
\begin{proof}
Write $\omega = dg$ for $g \in K\ps{x}$, and write $f_2 = f_1 + p\Delta$.  Then
\begin{align*}
\int \left( f_2^* \omega - f_1^* \omega \right) & = g(f_2) - g(f_1) = g(f_1 + p\Delta) - g(f_1) \\
& = \sum_{n = 1}^\infty \frac{(p\Delta)^n}{n!} g^{(n)}(f_1).
\end{align*}
Since $g' = \omega$ has coefficients in $A$, so does $g^{(n)}$ for all $n$, and the fraction $p^n/n!$ lies in the $\Z_{(p)}$--algebra $A$.
\end{proof}

\begin{corollary}[{$H^1_{dR}$ is ``crystalline''}]\label{H1dRIsCrystalline}
If $f_1, f_2\co V \to V'$ are maps of pointed formal varieties which agree mod $p$, then they induce the same map on $H^1_{dR}$. \qed
\end{corollary}

Several well--behavedness results of the functor $D$ follow directly from \Cref{H1dRIsCrystalline}.  For instance, any map $f\co \G' \to \G$ of pointed varieties which is a group homomorphism mod $p$ restricts to give a map $f^*\co D(\G/A) \to D(\G'/A)$.  Additionally, if $f_1$, $f_2$, and $f_3$ are three such maps of pointed varieties with $f_3 \equiv f_1 + f_2 \pmod{p}$ in $\CatOf{FormalGroups}(\G'/p, \G/p)$, then $f_3^* = f_1^* + f_2^*$ as maps $D(\G/A) \to D(\G'/A)$.

In the case that $k$ is a \emph{perfect} field, the ring $\W_p(k)$ of $p$--typical Witt vectors on $k$ is simultaneously torsion-free and universal among nilpotent thickenings of the residue field $k$.  This emboldens us to make the following definition:\footnote{There is a better definition one might hope for, which instead assigns to each potential thickening and lift a ``Dieudonne module'', and then work to show that they all arise as base-changes of this universal one.  This is possible and technically superior to the approach we are taking here.}\todo{Maybe cite a reference that does this?}

\begin{definition}
Let $k$ be a perfect field of characteristic $p > 0$, and let $\G_0$ be a formal group over $k$.  Then, choose a lift $\G$ of $\G_0$ to $\W_p(k)$, and define the \textit{(contravariant) Dieudonn\'e module} of $\G_0$ by $M(\G_0) := D(\G / W(k))$.\todo{This functor is best adapted to $p$--divisible groups, so typically $\G_0 = \G_a$ is disallowed. The definition and the most basic properties seem to work OK though...}
\end{definition}

\begin{remark}
This is independent of choice of lift up to coherent isomorphism.  Given any other lift $\G'$ of $\G_0$ to $\W_p(k)$, we can find \emph{some} power series --- not necessarily a group homomorphism --- covering the identity on $\G_0$.  \Cref{H1dRIsCrystalline} then shows that this map induces a canonical isomorphism between the two potential definitions of $M(\G_0)$.
\end{remark}

Note that the module $M(\G_0)$ carries some natural operations:
\begin{itemize}
\item Arithmetic: $M(\G_0)$ is naturally a $\W_p(k)$--module, with the action by $\ell$ corresponding to multiplication--by--$\ell$ on $\G_0$. \todo{well, $\G_0$ is a formal group over $k$, so maybe it would be better to write $\ell \pmod{p}$ or action on $\G$? AY}
\item Frobenius: The map $x \mapsto x^p$ is a group homomorphism mod $p$, so it induces a $\phi$--semilinear map $F\co M(\G_0) \to M(\G_0)$.  That is, $F(\alpha v) = \alpha^\phi F(v)$, where $\phi$ is a lift of the Frobenius on $k$ to $\W_p(k)$.
\item Verschiebung: The Verschiebung map is given by the mysterious formula \[V\co \sum_{n=1}^\infty a_n x^n \mapsto p \sum_{n=1}^\infty a_{pn}^{\phi^{-1}} x^n.\] It satisfies anti-semilinearity, $aV(v) = V(a^\phi v)$, and also $FV = p$.
\end{itemize}
With this, we come to the main theorem of this Lecture:

\begin{theorem}
The functor $M$ determines a contravariant equivalence of categories between smooth $1$--dimensional formal groups over $k$ of finite $p$--height and finite free $\W_p(k)$--modules equipped with appropriate operations $F$ and $V$, called \textit{Dieudonn\'e modules}. \qed \todo{Add in words about being uniform and reduced?}
\end{theorem} \todo{You never define the Dieudonn\'{e} ring explicitly.  I think the statement of this theorem and some later statements (e.g., $\W_p(k)\{x\}$) can be made more clear by giving notation to the Dieudonn\'{e} ring.}

\begin{remark}
Several invariants of the formal group associated to a Dieudonn\'e module can be read off from the functor $M$.  For example, the $\W_p(k)$--rank of $M$ is equal to the $p$--height of $\G_0$.  Additionally, the quotient $M / FM$ is canonically isomorphic to the cotangent space $T_0^* \G_0 \cong \omega_{\G_0}$.
\end{remark}

\begin{example}
The Dieudonn\'e module associated to $\G_m$ is the easiest to compute.  For $x$ the usual coordinate, we have $[p](x) = x^p$, and hence the Frobenius $F$ acts on $M(\G_m)$ by $Fx = px$.  It follows that $Vx = x$ and $M(\G_m) \cong \W_p(k)\{x\}$ with this action.
\end{example}

\begin{example}[{cf.\ \Cref{Alpha2Example}}]\label{WorkedAlpha2Example}
\todo[inline]{This example is not done.}
Dieudonn\'e theory admits an extension to finite (flat) group schemes as well, and the torsion quotient of the Dieudonn\'e module of a formal group agrees with the Dieudonn\'e module associated to its torsion subscheme: \[M(\G_0[p^j]) = M(\G_0) / p^j.\]  The \todo{Start by calculating $V$ for $\G_a$, use this to motivate the presence of torsion.} Dieudonn\'e module associated to $\G_a$ is the infinite--dimensional torsion $\W_p(k)$--module $M(\G_a) = k\{x, Fx, F^2 x, \ldots\}$.  Set $p = 2$, and consider the subgroup scheme $\alpha_2 \subseteq \G_a$ with Dieudonn\'e module \[M(\alpha_2) = M(\G_a) / F^2 = k\{x, Fx\}.\]  We can now verify the four claims from \Cref{Alpha2Example}:
\begin{itemize}
\item \textit{The group scheme $\alpha_2$ has the same underlying structure ring as $\mu_2 = \mathbb{G}_m[2]$ but is not isomorphic to it.}  This follows from calculating the Dieudonn\'e module of homomorphisms:
% The easiest way to see this is that $\mathrm{Hom}(\mu_2, \mu_2) = \mathbb{Z}/2\mathbb{Z}$ but $\mathrm{Hom}(\alpha_2, \mu_2) = \alpha_2$ (these homs are in the category of affine group schemes and give out an affine group scheme).
\item \textit{There is no commutative group scheme $G$ of rank four such that $\alpha_2 = G[2]$.}  This follows from calculating the space of rank four objects and noticing that $VF = 2$ gets you into trouble.
\item \textit{If $E/\mathbb{F}_2$ is the supersingular elliptic curve, then there is a short exact sequence \[0 \rightarrow \alpha_2 \rightarrow E[2] \rightarrow \alpha_2 \rightarrow 0.\]  However, this short exact sequence doesn't split (even after making a base change).}  This follows from calculating the action of $F$ and $V$: the exact sequence is split as modules, of course, but not as Dieudonn\'e modules.
\item \textit{The subgroups of $\alpha_2 \times \alpha_2$ of order two are parameterized by $\mathbb{P}^1$.}  This follows from calculating the Dieudonn\'e module of the product, as well as its space of projections of the appropriate rank.
\end{itemize}
\end{example}

We can also use Dieudonn\'e theory to compute the automorphism group of a fixed Honda formal group, which is information we wanted back in \Cref{ChromaticLocalizationSection}:

\begin{corollary}\label{FormOfStabilizerGroup}
For $\Gamma_d$ the Honda formal group law of height $d$ over $\F_{p^d}$, we compute \[\Aut \Gamma_d \cong \left. \W_p(\F_{p^d}) \<F\> \middle/ \left( \begin{array}{c} Fw = w^\phi F, \\ F^d = p \end{array} \right) \right.^\times.\]
\end{corollary}
\begin{proof}
The Dieudonn\'e module associated to $\Gamma_d$ satisfies $F^d = p$, and hence $M(\Gamma_d/k)$ is presented as a \emph{quotient} of the ring of operators on Dieudonn\'e modules.  The endomorphism ring of such a module is canonically isomorphic to the module itself.
\end{proof}

We now turn to alternative presentations of the Dieudonn\'e module functor, which have their own advantages and disadvantages.  Let $\G$ again be a formal Lie group over a field $k$ of positive characteristic $p$, and consider Cartier's \textit{functor of curves} \[C\G = \CatOf{FormalSchemes}(\A^1, \G).\]  This is, again, a kind of relaxing of familiar data from Lie theory: rather than studying exponential curves, $C\G$ tracks all possible curves.  In \Cref{MfgI:Height}, we considered three kinds of operations on a given curve $\gamma\co \A^1 \to \G$:
\begin{itemize}
\item Homothety: given a scalar $a \in A$, we define $[a] \cdot \gamma(t) = \gamma(at)$.
\item Verschiebung: given an integer $n \ge 1$, we define $V_n \gamma(t) = \gamma(t^n)$.
\item Arithmetic: given two curves $\gamma_1$ and $\gamma_2$, we can use the group law on $\G$ to define $\gamma_1 +_{\G} \gamma_2$.  Moreover, given $\ell \in \Z$, the $\ell$--fold sum in $\G$ gives an operator \[\ell \cdot \gamma = \overset{\text{$\ell$ times}}{\overbrace{\gamma +_{\G} \cdots +_{\G} \gamma}}.\]  This extends to an action by $\ell \in \W_p(k)$.
\item Frobenius: given an integer $n \ge 1$, we define \[F_n \gamma(t) = \sum_{i=1}^n{}_{\G} \gamma(\zeta_n t^{1/n}),\] where $\zeta_{n}$ is an $n${\th} root of unity.  (This formula is invariant under permuting the root of unity chosen, so determines a curve defined over the original ground ring.)
\end{itemize}

\begin{definition}
A curve $\gamma$ on a formal group is $p$--typical when $F_n \gamma = 0$ for $n \ne p^j$.  Write $D_p\G \subseteq C\G$ for the subset of $p$--typical curves.  In the case that the base ring is $p$--local, $C\G$ splits as a sum of copies of $D_p \G$, and there is a natural section $C\G \to D_p \G$ called $p$--typification, given by the same formula as in \Cref{EveryLogHaspTypification}.
\end{definition}

\begin{remark}
Precomposing with a coordinate $\A^1 \cong \G$ allows us to think of a logarithm $\log\co \G \to \G_a$ as a curve on $\G_a$.  The definition of $p$--typicality given in \Cref{DefnpTypicalLog} coincides with the one given here.
\end{remark}

Surprisingly, this construction captures the same data as the previous one.

\begin{theorem}
The functor $D_p$ determines a \emph{covariant} equivalence of categories between smooth $1$--dimensional formal groups over $k$ of finite $p$--height and finite free $\W_p(k)$--modules equipped with appropriate operations $F$ and $V$.  In fact, $D_p(\G) \cong M(\G/k)^*$. \qed \todo{Add in words about being uniform and reduced?}
\end{theorem}
\todo{Can you give more intuition about how these two presentations are related, for example from Lie theory?  Somehow (integral) curves (through a point) should correspond to the tangent space, while left-invariant forms correspond to the cotangent space.  Is ``cohomologically-invariant'' analogous to ``$p$-typification'', perhaps along the lines of the ``crystalline''-ness of $H^1_{dR}$?}  
Finally, we turn to a third presentation of Dieudonn\'e theory using more pedestrian methods, with the aim of developing a theory more directly adapted to algebraic topology.  One can show that the category of \emph{finite--type} graded \todo{I would've thought that the important word to emphasize here is ``graded'', not ``finite-type'', since we've been assuming finite-type throughout this lecture.} connected Hopf algebras is an abelian category, and hence must admit a presentation as modules over some (perhaps noncommutative) ring.  The first step to accessing this presentation is to find a collection of projective generators for this category.

\begin{theorem}[{\cite{Schoeller}}]
Let $S(n)$ denote the free graded-commutative Hopf algebra on a single generator in degree $n$.  There is a projective cover $H(n) \onto S(n)$, given by the formula
\begin{itemize}
\item If either $p = 2$ and $n = 2^m k$ for $2 \nmid k$ and $m > 0$ \emph{or} $p \ne 2$ and $n = 2p^m k$ for $p \nmid k$ and $m > 0$, then $H(n) = \F_p[x_0, x_1, \ldots, x_k]$ with the Witt vector diagonal.\todo{Put in a citation about what ``the Witt vector diagonal'' means: the elements $w_i = x_0^{p^i} + p x_1^{p^{i-1}} + \cdots + x_i$ are primitive.}
\item Otherwise, $H(n) = S(n)$ is the identity.
\qed
\end{itemize}
\end{theorem}

\begin{corollary}
The category $\CatOf{HopfAlgebras}^{> 0, \fin}_{\F_p/}$ of finite--type graded connected Hopf algebras is a full subcategory of modules over \[\bigoplus_{n, m} \CatOf{HopfAlgebras}^{> 0, \fin}_{\F_p/}(H(n), H(m)).\]
\end{corollary}

\begin{definition}
Let $\CatOf{GradedDMods}$ denote the category of graded abelian groups $M$ satisfying
\begin{enumerate}
\item $M_{< 1} = 0$.
\item If $n$ is odd, then $pM_n = 0$.
\item There are homomorphisms $V\co M_{pn} \to M_n$ and $F\co M_n \to M_{pn}$ (where $n$ is even if $p \ne 2$), together satisfying $FV = p = VF$.  (These are induced by the inclusion $H(n) \subseteq H(pn)$ and by the map $H(pn) \to H(n)$ sending $x_n$ to $x_{n-1}^p$.)
\end{enumerate}
\end{definition}

\begin{remark}
Combining these, if $n$ is even, taking the form $n = 2p^m k$ with $p \nmid k$ at odd primes $p$ or $n = 2^m k$ with $2 \nmid k$ at $p = 2$, then $p^{m+1} M_n = F^{m+1} V^{m+1} M_n = 0$.
\end{remark}

\begin{theorem}
The functor $D_*\co \CatOf{HopfAlgebras}^{>0, \fin}_{\F_p/} \to \CatOf{GradedDMods}$ defined by \[D_*(H) = \bigoplus_n D_n(H) = \bigoplus_n \CatOf{HopfAlgebras}^{>0, \fin}_{\F_p/}(H(n), H)\] is an exact equivalence of categories.  Moreover, $D_* H(n)$ is characterized by the equation \[\CatOf{GradedDMods}(D_* H(n), M) = M_n. \qed\]
\end{theorem}


\todo[inline]{It would be nice to tie these presentations together, at least with unjustified claims.  What curve does a cohomologically left-invariant form get sent to?  What does the appearance of the Witt scheme in the third presentation tell you about the relationship to the second presentation?}

\todo{This last presentation could use some examples too.}







\todo{Dieudonn\'e theory is also about taking primitives in some sort of cohomology.  Can this be connected to the additivity condition on unstable operations?}
\todo{Weinstein's Section 1 also ends with a discussion of the Dieudonn\'e functor extended to the crystalline site.  This is necessary to get access to the period map.}
\todo{Definition of the inverse functor to the Dieudonn\'e module functor?  I think this appears in the formal groups notes.}
\todo{We know of a connection between $H_* BU$ and the Witt scheme.  Is there a connection between $E_* MU$ and curves, or $E_* BP$ and $p$--typical curves, which is visible from this perspectve?  Almost definitely!  Also, a connection between curves and divisors: the zero locus of a given curve...}
\todo{You could also try to give the Devinatz--Hopkins formula for the stabilizer action.  It's entirely a matter of different presentations of the Dieudonn\'e module... although it may require you to understand Dieudonn\'e crystals, which you are \emph{not} up for.}
\todo{Include this remark:  However, the subspace of $M$ spanned by $\omega_{\G}$ is \emph{sensitive to choice of lift}, unlike the rest of this construction.  This observation is the wellspring of the Gross--Hopkins period map.}







\section{Ordinary cooperations for Landweber flat theories}\label{LEFTCooperations}

\begin{center}
\textbf{Convention: We will write $H$ for $H\F_p$ for the duration of the lecture.}
\end{center}

Today we will put Dieudonn\'e modules to work for us in algebraic topology.  Our goal is to prove the following Theorem:
\begin{theorem}
For $F = H$ and $E$ a Landweber flat homology theory, the comparison map \[H_*^R \OS{E}{2*} \to H_* \OS{E}{2*}\] is an isomorphism of Hopf rings.
\end{theorem}

\noindent The essential observation about this is that the associated Dieudonn\'e module $D_* H_* \OS{E}{2*}$ is a \emph{stable object}, in the sense of the following result of Goerss--Lannes--Morel:

\begin{theorem}[{\cite[Lemma 2.8]{GLM}}]
Let $X \to Y \to Z$ be a cofiber sequence of spectra.  Then, provided $n > 1$ satisfies $n \not\equiv \pm 1 \pmod{2p}$, there is an exact sequence \[D_n H_* \Loops^\infty X \to D_n H_* \Loops^\infty Y \to D_n H_* \Loops^\infty Z. \qed\]
\end{theorem}

\begin{corollary}[{\cite[Theorem 2.1]{GLM}}]
For $n > 1$ an integer satisfying $n \not\equiv \pm 1 \pmod{2p}$, there is a spectrum $B(n)$ satisfying \[B(n)_n X \cong D_n H_* \Loops^\infty X.\] (As convention, when $n \equiv \pm 1 \pmod{2p}$ we set $B(n) := B(n-1)$, and $B(0) := \S^0$.)  \todo{Remark 2.9 has a helpful discussion of how to extend to the case $B(0)$.} \qed
\end{corollary}

Before exploiting this result to compute something about unstable cooperations, we will prove a sequence of small results making these spectra somewhat more tangible.

\begin{lemma}[{\cite[Lemma 3.2]{GLM}}]
The spectrum $B(n)$ is connective and $p$--complete.
\end{lemma}
\begin{proof}
First, rearrange:
\begin{align*}
\pi_k B(n) & = B(n)_n S^{n-k} = D_n H_* \Loops^\infty \Susp^\infty S^{n-k}.
\end{align*}
If $k < 0$, $n$ is below the connectivity of $\Loops^\infty \Susp^\infty S^{n-k}$ and hence this vanishes.  The second assertion follows from the observation that $H\Z_* B(n)$ is an $\F_p$--vector space.  To see this, restrict to the case $n \not\equiv \pm 1 \pmod{2p}$ and calculate \[H\Z_k B(n) = B(n)_n \Susp^{n-k} H\Z = D_n H_* K(\Z, n-k) = [Q^* H_* K(\Z, n-k)]_n. \qedhere\]
\end{proof}

\noindent We can use a similar trick to calculate $H^* B(n)$:

\begin{definition}[{\cite[Example 3.6]{GLM}}]\label{SpanierWhiteheadDualOfGeneratingModule}
Let $G(n)$ be the free unstable $\mathcal A$--module on one generator of degree $n$, so that\todo{We should reconcile this notation with what's used in \Cref{UnstableContextsSection} and what's been said historically.  These are specifically modules for the unstable \emph{additive} cooperations.} \[\CatOf{UnstableModules}_{\mathcal A_*}(G(n), M) = M_n.\]  This module admits a presentation as \[G(n) = \begin{cases} \Susp^n \mathcal A / \{\beta^\eps P^i \mid 2pi + 2\eps > n\}\mathcal A & \text{if $p > 2$}, \\ \Susp^n \mathcal A / \{\Sq^i \mid 2i > n\}\mathcal A & \text{if $p = 2$}. \end{cases}\]  The Spanier--Whitehead dual of this right-module, $DG(n)$, is characterized by the left-module\todo{Is this parenthesization right?} \[\Susp^n (D G(n))^* = \begin{cases}\mathcal A / \mathcal A \{\chi(\beta^\eps P^i) \mid 2pi + 2\eps > n\} & \text{if $p > 2$}, \\ \Susp^n \mathcal A / \mathcal A \{\chi{\Sq^i} \mid 2i > n\} & \text{if $p = 2$}. \end{cases}\]
\end{definition}

\begin{theorem}[{\cite[Proof of Theorem 3.1]{GLM}}]
There is an isomorphism \todo{Be careful about $n \not\equiv \pm 1 \pmod{p}$?} \[H^* B(n) \cong \Susp^n(DG(n))^*.\]
\end{theorem}
\begin{proof}
Start, as before, by computing:
\begin{align*}
H_k B(n) = B(n)_n \Susp^{n-k} H = D_n H_* K(\F_p, n-k).
\end{align*}
The unstable module $G(n)$ also enjoys a universal property in the category of stable $\mathcal A$--modules: \[\CatOf{Modules}_{\mathcal A/}(G(n), M) \cong [\Loops^\infty M]_n.\]  Hence, we can continue our computation:
\begin{align*}
H_k B(n) & = D_n H_* K(\F_p, n-k) \\
& = \CatOf{Modules}_{\mathcal A/}(G(n), \Susp^{n-k} \mathcal A) \\
& = \CatOf{Modules}_{\F_p/}(G(n)_{n-k}, \F_p).
\end{align*}

We learn immediately that $H_* B(n)$ is finite.  We would like to show, furthermore, that $H_* B(n)$ is the Spanier--Whitehead dual $\Susp^n DG(n)$.  It suffices to show \[\CatOf{Modules}_{\mathcal A/}(G(n), \Susp^j \mathcal A) = \CatOf{Modules}_{\mathcal A/}(\F_p, \Susp^j \mathcal A \otimes H_* B(n))\] for all values of $j$.  This follows from calculating $B(n)_n \Susp^{n+j} H$ using the same method.  Finally, linear-algebraic duality and \Cref{SpanierWhiteheadDualOfGeneratingModule} give the Theorem.
\end{proof}

Additionally, the following Lemma is almost a consequence of basic understanding of unstable modules over $\mathcal A_*$, with minor fuss at the bad indices $n \equiv \pm 1 \pmod p$:

\begin{lemma}[{\cite[Lemma 3.3]{GLM}}]
There is a natural onto map $B(n)_n X \to H_n X$. \qed
\end{lemma}
% \begin{proof}
% Suppose at first that $n \not\equiv \pm 1 \pmod{2p}$, and let $X$ be any \emph{spectrum} with counit map $\sigma\co \Susp^\infty \Loops^\infty X \to X$.  Then there is a factorization
% \begin{center}
% \begin{tikzcd}
% H_* \Loops^\infty X \arrow{d} \arrow["H_*\sigma"]{r} & H_* X \\
% Q H_* \Loops^\infty X \arrow[densely dotted,"(3)"]{r} & \Loops^\infty H_* X \arrow["(1)"]{u},
% \end{tikzcd}
% \end{center}
% since $H_* \Loops^\infty X$ is already an unstable module and $\Loops^\infty H_* X$ has no multiplicative structure.  This factored map is adjoint to a map \[H_* \Loops^\infty X \to U \Loops^\infty H_* X\] to which we can apply $D_n$:
% \begin{center}
% \begin{tikzcd}
% D_n H_* \Loops^\infty X \arrow[equal]{d} \arrow["(4)"]{r} & D_n U \Loops^\infty H_* X \arrow[equal]{d} \\
% B(n)_n X & {[\Loops^\infty H_* X]_n} \arrow["(2)","{\text{incl.}}"']{r} & H_n X.
% \end{tikzcd}
% \end{center}
% If $X = \Susp^\infty Z$ is itself a suspension spectrum, then (1) and (2) become equalities (by unstability of $H_* \Susp^\infty Z$), and (3) and (4) become onto (by generation and by exactness respectively).

% Finally, to handle the case $n \equiv \pm 1 \pmod{2p}$, one needs to investigate separately the surjectivity of the map $B(n)_n Z \to B(n-1)_n Z \to H_n Z$.
% \end{proof}



Let's now work toward using the $B(n)$ spectra to analyze the Hopf rings arising from unstable cooperations.  We have previously computed that the comparison map \[H_*^R \OS{BP}{2*} \to H_* \OS{BP}{2*}\] is an isomorphism.  We will begin by reimagining this statement in terms of Dieudonn\'e theory.\citeme{You probably also want to cite Hunton--Turner and Buchstaber--Lazarev}

To begin with, Dieudonn\'e theory as we have described it is concerned with \emph{Hopf algebras} rather than Hopf rings.  However, a Hopf ring is not much structure on top of a system of graded Hopf algebras $A_*$: it is a map \[\circ\co A_* \boxtimes A_* \to A_*,\] where ``$\boxtimes$'' is the tensor product of Hopf algebras.  Since $D_*$ gives an equivalence of categories between graded Hopf algebras and graded Dieudonn\'e modules, we should be able to find an analogous formula for the tensor product of Dieudonn\'e modules.

\begin{definition}
\todo{This definition is easier than it should be in generality, because not only are you working with a \emph{field} but you're even working with $\F_p$, which has no Frobenius.}
The naive tensor product $M \otimes N$ of Dieudonn\'e modules $M$ and $N$ receives the structure of a $\W(k)[V]$--module, where $V(x \otimes y) = V(x) \otimes V(y)$.  We define the \textit{tensor product of Dieudonn\'e modules} by \[M \boxtimes N = \left.\W(k)[F, V] \otimes_{\W(k)[V]} (M \otimes N) \middle/ \left( \begin{array}{c} 1 \otimes Fx \otimes y = F \otimes x \otimes Vy, \\ 1 \otimes x \otimes Fy = F \otimes Vx \otimes y \end{array} \right) \right. .\]
\end{definition}
\todo{Since the category of Dieudonn\'{e} modules is the category of modules over some ring, there is also a tensor product over that ring instead over the partial ring $\W(k)[V]$.  This seems like to natural thing to consider, unless the equivalence provided by the Freyd-Mitchell embedding theorem is not monoidal?}

\begin{lemma}[{\cite[Theorem 7.7]{GoerssDieudonne}}]
\todo{There's a wrinkle here: if you want to say that $D_*$ is an equivalence of symmetric monoidal categories, then there needs to be a unit object. I don't think that's the case in the setting you're in.}
The natural map \[D_*(M) \boxtimes D_*(N) \to D_*(M \boxtimes N)\] is an isomorphism. \qed
\end{lemma}

\begin{definition}
For a ring $R$, a \emph{Dieudonn\'e $R$--algebra} $A_*$ is a graded Dieudonn\'e module equipped with an $R$--action and an algebra product \[\circ\co A_* \boxtimes A_* \to A_*.\]
\end{definition}

\begin{example}[{\cite[Proposition 10.2]{GoerssDieudonne}}]\todo{This citation at least says that the R--W relation holds over the topology $E_*$--Dieudonn\'e algebra.}
For a complex-oriented homology theory $E$, we define its Dieudonn\'e $E_*$--algebra of algebraic unstable cooperations by \[R_E = \left. E_*[b_1, b_2, \ldots] \middle/ \left( \begin{array}{c} b(s+t) = b(s) +_E b(t) \end{array} \right) \right.,\] where $V$ is multiplicative, $V$ fixes $E_*$, and $V$ satisfies $Vb_{pj} = b_j$.  (This determines the behavior of $F$.\todo{How?})  We also write $D_E = \{D_{2m} H_* \OS{E}{2n}\}$ for the even part of the topological Dieudonn\'e algebra, and these come with natural comparison maps \[R_E \to D_E \from D_* H_* \OS{E}{2*}.\]
\end{example}

\begin{theorem}[{\cite[Theorem 11.7]{GoerssDieudonne}}]\label{LandweberFlatUnstableCoopns}
Restricting attention to the even parts, the maps \[R_E \to D_E \from D_* H_* \OS{E}{2*}\] are isomorphisms for $E$ Landweber flat.
\end{theorem}
\begin{proof}
In \Cref{HopfRingForEBP}, we showed that these maps are isomorphisms for $E = BP$.  However, the right--hand object can be identified via Brown--Gitler juggling\todo{Is this really legal? We won't get intro trouble with odd indices and the semi-parity condition on $n$?}: \[D_n H_* \OS{E}{2j} = B(n)_n \Susp^{2j} E = E_{2j+n} B(n).\]  If $E$ is Landweber flat, then the middle-- and right--terms are determined by change-of-base from the respective $BP$ terms by definition of flatness.  Finally, the left term commutes with change-of-base by its algebraic definition, and the theorem follows.\todo{You made this sound more complicated in class than what's written here (with bar sequence arguments, etc.)  Can you provide some of those details here?}
\end{proof}

\begin{remark}
The proof of \Cref{LandweberFlatUnstableCoopns} originally given by Goerss~\cite{GoerssDieudonne} involved a lot more work, essentially because he didn't want to assume \Cref{HFpBPCooperationsTheorem} or \Cref{HopfRingForEBP}.  Instead, he used the fact that $\Susp^\infty_+ \Loops^2 S^3$ is a regrading of the ring spectrum $\bigvee_n B(n)$, together with knowledge of $BP_* \Loops^2 S^3$.  Since we already spent time with \Cref{HFpBPCooperationsTheorem}, we're not obligated to pursue this other line of thought.
\end{remark}

\begin{remark}[{\cite[Proposition 11.6]{GoerssDieudonne}}]
The Dieudonn\'e algebra framework also makes it easy to add in the odd part after the fact.  Namely, suppose that $E$ is a torsion--free ring spectrum and suppose that $E_* B(n)$ is even for all $n$.  In this setting, we can verify the purely topological version of this statement: the map \[D_E[e] / (e^2 - b_1) \to D_* H_* \OS{E}{*}\] is an isomorphism.

To see this, note that because $E_{2n-2k-1} B(2n) \to D_{2n} H_* \OS{E}{2k+1}$ is onto and $E_{2n-2k-1} B(2n)$ is assumed zero, the group $D_{2n} H_* \OS{E}{2k+1}$ vanishes as well.  A bar spectral sequence argument shows that $D_{2n+1} H_* \OS{E}{2k+2}$ is also empty~\cite[Lemma 11.5.1]{GoerssDieudonne}.  Hence, the map on even parts \[(D_E[e] / (e^2 - b_1))_{*, 2n} \to (D_* H_* \OS{E}{*})_{*, 2n}\] is an isomorphism, and we need only show that \[D_* H_* \OS{E}{2n} \xrightarrow{e \cdot -} D_* H_* \OS{E}{2n+1}\] is an isomorphism as well.  Since $e(Fx) = F(Ve \circ x) = 0$ and $D_* A / FD_* A \cong Q^* A$ for a Hopf algebra $A$, we see that $e$ kills decomposables and suspends indecomposables: \[e D_* H_* \OS{E}{2n} = \Susp QH_* \OS{E}{2n}.\]  This is also what happens in the bar spectral sequence, and the claim follows.  In light of \Cref{LandweberFlatUnstableCoopns}, this means that for Landweber flat $E$, the comparison isomorphism can be augmented to a further isomorphism \[R_E[e] / (e^2 - b_1) \to D_* H_* \OS{E}{*}.\]
\end{remark}







\todo{Jeremy asked whether there was a connection between Goerss's original proof and the free $E_2$--algebra with $p$ killed which we keep dancing around this semester.  I don't know, and it's a good question.}
\todo{Compare also with the main result of {\cite{HopkinsHunton}}.}
\todo{Remark 11.4 in the Hopf Ring paper says that the failure of the odd primary case to be an isomorphism is measured by the suspension homomorphism operator $e$, and the kernel of the natural surjective map is exactly the kernel of multiplication by $e$.  Have a look.}
\todo{Ask Mike (and Jacob?) if there are analogues of these results for $kO$ which explain Mahowald's generalized $K$--theoretic Brown--Gitler spectra.  3/29: I did ask Mike, he said he didn't know. I also asked Paul, and he said this seemed unreasonable, since $kO$ isn't valued in co/commutative Hopf algebras.  This is a fair point: one would need to invent an ``analogue'' of Dieudonn\'e theory for $kO$, in the sense that some category it takes values in would have to be identified as abelian, where the category is rigid enough that it often sends fiber sequences to exact sequences in the category.}
\todo{Goerss also talks about ``Hopf ring hom'', and how, since many of the Hopf rings appearing in algebraic topology are ``free'', Hopf ring hom off of them agrees with just Hopf algebra hom (or Dieudonne module hom) off of their generating object.  That's probably worth pointing out, since nonadditive unstable operations seem so unwieldy.  It's weird, though, because restricting to additive unstable operations means passing to $\ast$--indecomposables?  That is, the freeness of the $\circ$--product doesn't really seem to get you out of all that much trouble.}





% \citeme{Lemma 2.8}Consider a fiber sequence of spectra \[X \xrightarrow i Y \xrightarrow q Z\] with associated fiber sequence of infinite loopspaces \[\Loops^\infty X \xrightarrow{\Loops^\infty i} \Loops^\infty Y \xrightarrow{\Loops^\infty q} \Loops^\infty Z.\]  We may assume that $Y$ and $Z$ are $0$--connected, as this won't affect the value of $D_n \circ H_*$.  We then consider the Postnikov tower of $Y$ relative to $Z$
% \begin{center}
% \begin{tikzcd}
% \cdots \arrow{r} & Y_{s+1} \arrow{r}{q_s} & Y_s \arrow{d}{k_s} \arrow{r} & \cdots \arrow{r} & Y_1 \arrow{d}{k_1} \arrow{r}{q_0} & Z \arrow{d}{k_0} \\
% & & \Susp^{s+1} HG_s & & \Susp^2 HG_1 & \Susp HG_0
% \end{tikzcd}
% \end{center}
% as well as the associated fibrations \[X_s \xrightarrow{i_s} Y_s \to Z\] which assemble into the Postnikov tower for $X$
% \begin{center}
% \begin{tikzcd}
% \cdots \arrow{r} & X_{s+1} \arrow{r}{r_s} & X_s \arrow{d}{l_s} \arrow{r} & \cdots \arrow{r} & X_1 \cong HG_0 \arrow{d} \\
% & & \Susp^{s+1} HG_s & & \Susp^2 HG_1.
% \end{tikzcd}
% \end{center}

% For $f\co A \to B$ a map of spectra, we write $f_\sharp = D_n \Loops^\infty f_*$.  Our goal is to prove exactness, so for $y \in D_n H_* \Loops^\infty Y$ with $q_\sharp(y) = 0$ we must produce $x \in D_n H_* \Loops^\infty X$ with $i_\sharp(x) = y$.  Define $y_s \in D_n H_* \Loops^\infty Y_s$ by projection, and we will produce $x_s \in D_n H_* \Loops^\infty X_s$ with $(i_s)_\sharp(x_s) = y_s$, $(r_s)_\sharp x_{s+1} = x_s$.  Then, since $D_n H_* K(G_s, s) = 0$ for $s \gg 0$, the result will follow from
% \begin{center}
% \begin{tikzcd}
% D_n H_* \Loops^\infty X \arrow{r}{i_\sharp} \arrow[equal]{d} & D_n H_* \Loops^\infty Y \arrow[equal]{d} \\
% \lim_s D_n H_* \Loops^\infty X_s \arrow{r} & \lim_s D_n H_* \Loops^\infty Y_s.
% \end{tikzcd}
% \end{center}
% We have thus reduced to studying the effect of the sharp construction on a fibration involving an Eilenberg--Mac Lane spectrum.

% \todo{These two Lemmas involve a lot of fussing around with the Eilenberg--Moore spectral sequence.}
% \begin{lemma}\citeme{Lemma 2.5}
% Given a fibration sequence \[\Susp^m HG \xrightarrow i X \xrightarrow q Y \xrightarrow k \Susp^{m+1} HG\] with $m \ge 1$ and $n \ne \pm 1 \pmod{2p}$, then the sequence of abelian groups \[D_n H_* \Loops^\infty \Susp^m HG \xrightarrow{i_\sharp} D_n H_* \Loops^\infty X \xrightarrow{q_\sharp} D_n H_* \Loops^\infty Y \xrightarrow{k_\sharp} D_n H_* \Loops^\infty \Susp^{m+1} HG\] is exact. \qed
% \end{lemma}

% \begin{lemma}\citeme{Lemma 2.6, corollary of Lemma 2.7}
% Let \[HG \xrightarrow i X \xrightarrow q Y \xrightarrow k \Susp HG\] be a fibration sequence where $k_* \pi_1 Y \to G$ is onto.  If $n \not\equiv \pm 1 \pmod{2p}$, then the sequence of abelian groups \[0 \to D_n H_* \Loops^\infty X \xrightarrow{q_\sharp} D_n H_* \Loops^\infty Y \xrightarrow{k_\sharp} D_n H_* \Loops^\infty \Susp HG\] is exact. \qed
% \end{lemma}

% Note that this latter Lemma means $y_1 = 0$, since $\pi_0 Y = 0$, so we can set $x_1 = 0$.  Inductively, suppose that $x_s$ has been chosen.  Since \[(l_s)_\sharp x_s = (k_s)_\sharp (i_s)_\sharp x_s = (k_s)_\sharp y_s = 0\] there exists, by the earlier Lemma, a $z \in D_n H_* \Loops^\infty X_{s+1}$ with $(r_s)_\sharp z = x_s$.  Since \[(q_s)_\sharp(y_{s+1} - (i_{s+1})_\sharp z) = y_s - (i_s)_\sharp (r_s)_\sharp z = 0\] the earlier Lemma again shows there exists $w \in D_n H_* \Loops^\infty \Susp^s HG_s$ with \[(f_{s+1})_\sharp w = y_{s+1} - (i_{s+1})_\sharp z.\]  We set $x_{s+1} = z + (g_{s+1})_\sharp w$, and one can check that this works.










\section{Cooperations and geometric points on $\moduli{fg}$}

Throughout today, we will write $K$ for a Morava $K$--theory $K_\Gamma$ (which, if you like, you can take to be $K(d)$) and $A$ for a finitely generated abelian group, and $H$ for the associated Eilenberg--Mac Lane spectrum.  Our goal is to study the unstable mixed cooperations $K_* \OS{H}{*}$, which we expect to be connected to formal group homomorphisms $\Gamma \to \G_a$ but which isn't covered by any of the cases studied thus far.  This calculation is interesting to us for two reasons:
\begin{enumerate}
\item These cooperations appear naturally when pursuing a ``fiberwise analysis'' of cooperations, or a chromatic analysis of unstable homotopy theory, along the lines of \Cref{ChapterFiniteSpectra}.
\item The Eilenberg--Mac Lane spaces $\OS{H}{*}$ appear as the layers of Postnikov towers.  If we were to want to analyze the $K$--homology of a Postnikov tower (as we will in \Cref{ChapterSigmaOrientation}), we will naturally encounter pieces of $K_* \OS{H}{*}$, and we would be wise to have a firm handle on these objects.  It is a tribute to the perspective offered here that the successful way to approach this computation is not one-at-a-time, handicrafted for each possible Eilenberg--Mac Lane space, but rather all-at-once, as suggested by the unstable cooperations picture.
\end{enumerate}

Unsurprisingly, our analysis will rest on the bar spectral sequence \[\Tor^{K_* \OS{H}{q}}_{*, *}(K_*, K_*) \Rightarrow K_* \OS{H}{q+1}.\]  However, because $K$--theory is naturally a $2$--periodic theory, our method in \Cref{COableCoopnsII} of inducting on homological degree and working with a triangular corner of the spectral sequence will fail because it is not a first-quadrant spectral sequence.  Instead, we will induct on the Eilenberg--Mac Lane index $q$ as in \Cref{UnstableSteenrodCoops}, and as such we will begin with analyzing the base case of $q = 0$ where we are interested in manually computing $K_* BA$ for a reasonable abelian group $A$.  Since $K$--theory has K\"unneth isomorphisms and $B(A_1 \times A_2) \simeq BA_1 \times BA_2$, it suffices to do the computation just for $A = C_{p^j}$. \todo{This only takes care of finite abelian groups $A$.  Is this what reasonable means?}

\begin{theorem}[{\cite[Theorem 5.7]{RavenelWilsonKthyOfEMSpaces}, \cite[Proposition 2.4.4]{HopkinsLurie}}]\label{KtheoryConvertsTorsionToTorsion}
There is an isomorphism \[BS^1[p^j]_K \cong BS^1_K[p^j].\] \todo{I'm a little confused about the objects in this definition.  Does the RHS mean take the scheme and then take p-torsion in the ring, then go back to the scheme?  And the LHS is K theory of the cofiber of multiplication by $p^j$? Maybe would help if this was slightly explained}
\end{theorem}
\begin{proof}
Consider the diagram of spherical fibrations:\todo{Put in a pullback corner here.}
\begin{center}
\begin{tikzcd}
S^1 \arrow{r} \arrow[equal]{d} & B(S^1[p^j]) \arrow{r} \arrow{d} & BS^1 \arrow{d}{p^j} \\
S^1 \arrow{r} & ES^1 \arrow{r} & BS^1.
\end{tikzcd}
\end{center}
The induced long exact sequence (known as the Gysin sequence, or as the couple in the Serre spectral sequence for the first fibration) takes the form
\begin{center}
\begin{tikzcd}
& K^* BS^1 \arrow[leftarrow]{rd}{- \smile [p^j](x)} \\
K^*(BS^1[p^j]) \arrow[leftarrow]{ru} & & K^* BS^1 \arrow[leftarrow]{ll}{\partial}
\end{tikzcd}\todo{One of the stars on the right half of the diagram needs a dimension shift.  The bottom $\partial$ arrow should be dotted.}
\end{center}
where $x$ is a coordinate \todo{You should explain how you're using the map of spherical fibrations to give this.}on $BS^1_K$.  Because $BS^1_K$ is of finite height\todo{I'm confused: does it make sense to say that $BS^1_K$ is of finite height?  It seems like what you're really using is that the formal group $\Gamma$ associated to $K$ has finite height.}, the right diagonal map is injective.  It follows that $\partial = 0$, and so this gives a short exact sequence of Hopf algebras, which we can reinterpret as a short exact sequence of group schemes \[B(S^1[p^j])_K \to BS^1_K \xrightarrow{p^j} BS^1_K. \qedhere\]
\end{proof}

\begin{remark}\label{KHomologyOfClassifyingSpace}
Dually, there is also an exact sequence of Hopf algebras
\begin{center}
\begin{tikzcd}
& K_* BS^1 \arrow{rd}{- \frown [p^j](x)} \\
K_*(BS^1[p^j]) \arrow{ru} & & K_* BS^1, \arrow{ll}{\partial}
\end{tikzcd}
\end{center}
where again $\partial = 0$ and hence $K_*(BS^1[p^j])$ is presented as the kernel of the map ``cap with $[p^j](x)$''.  We will revisit the duality next time.
\end{remark}

There are a couple of approaches to the rest of this calculation, i.e., $K_* \OS{H}{q}$ for $q > 1$.  The original, due to Ravenel and Wilson~\cite{RavenelWilsonKthyOfEMSpaces}, is to complete the calculation for the smallest abelian group $C_p$ and then induct upward toward more complicated groups like $C_{p^j}$ and $C_{p^\infty}$.  More recently, there is also a preprint of Hopkins and Lurie~\cite{HopkinsLurie} that begins with $A = C_{p^\infty}$ and then works downward.  We will do the \emph{easy} parts of both calculations, to give a feel for their relative strengths and deficiencies.

The Ravenel--Wilson version of the calculation proceeds much along the same lines as \Cref{UnstableSteenrodCoops}.  Setting $H = H\Z/p$, we will study the bar spectral sequences \[\Tor^{K_* \OS{H}{q}}_{*, *}(K_*, K_*) \Rightarrow K_* \OS{H}{q+1}\] for different indices $q$ and use the $\circ$--product to push differentials around among them.  Our first move, as in \Cref{UnstableSteenrodCoops}, is to study the bar spectral sequence \[\Tor^{K_* \Z/p}_{*, *}(K_*, K_*) \Rightarrow K_* B\Z/p\] and analyze what \emph{must} happen in order to reach the conclusion of \Cref{KtheoryConvertsTorsionToTorsion}.  In the input to this spectral sequence, the ground algebra is given by\todo{Did you also use angle brackets to denote ideals in the rest of the document? Do you care to? Probably not.} \[K_* \OS{H\Z/p}{0} = K_*[[1]] / \<[1]^{p} - 1\> = K_*[[1] - [0]] / \<[1] - [0]\>^{p}.\]  The $\Tor$--algebra for this truncated polynomial algebra $K_*[a_\emptyset] / a_\emptyset^{p}$ is then given by the formula \[\Tor^{K_*[a_\emptyset] / a_\emptyset^{p}}_{*, *}(K_*, K_*) = \Lambda[\sigma a_\emptyset] \otimes \Gamma[\phi a_\emptyset],\] \todo{What is the reason for the $\sigma$ and $\phi$ notation?}the combination of an exterior algebra and a divided power algebra.  We know which classes are supposed to survive this spectral sequence, and hence we know where the differentials must be:
\begin{align*}
d(\phi a_\emptyset)^{[p^d]} & = \sigma a_\emptyset, \\
\Rightarrow d(\phi a_\emptyset)^{[i + p^d]} & = \sigma a_\emptyset \cdot (\phi a_\emptyset)^{[i]}.
\end{align*}
The spectral sequence collapses after this differential.\footnote{In the $j > 1$ version of this analysis, there are some multiplicative extensions to sort out.  Of course, these are all determined by already knowing the multiplicative structure on $K_* \OS{H\Z/p^j}{1}$.}


With the base case analysis completed, we turn to the induction on $q$:
\begin{theorem}[{\cite[Theorem 9.2 and Theorem 11.1]{RavenelWilsonKthyOfEMSpaces}}]
Using the $\circ$--product, \[K_* \OS{H\Z/p}{q} = \Alt^q \OS{H\Z/p}{1}.\]
\end{theorem}
\begin{proof}[Proof sketch]
The inductive step turns out to be extremely index-rich, so I won't be so explicit or complete, but I'll point out the major landmarks.  It will be useful to use the shorthand $a_{(i)} = a_\emptyset^{[p^i]}$, where $(i)$ is thought of as a multi-index with one entry.

We proceed by induction, assuming that $K_* \OS{H\Z/p}{q} = \Alt^q \OS{H\Z/p}{1}$ for a fixed $q$.  Computing the $\Tor$--algebra of $K_* \OS{H\Z/p^j}{q}$ again yields a tensor of divided power and exterior classes, a pair for each algebra generator of $K_* \OS{H\Z/p^j}{q}$.  In analogy to the rewriting formula used in \Cref{UnstableSteenrodInduction}, there is also a rewriting formula in this context~\cite[Lemmas 9.5-6]{RavenelWilsonKthyOfEMSpaces}\todo{Did you get this citation right? It doesn't look like I remember.}: \[(\phi a_{(i_1, \ldots, i_q)})^{[p^n]} \equiv (\phi a_{(i_1, \ldots, i_{q-1})})^{[p^n]} \circ a_{(i_q + n)} \mod *\text{--decomposables}.\]  Since every class can be so decomposed, all the differentials are determined by the previous spectral sequence.  In particular, classes are hit by differentials exactly when $i_q + n$ is large enough.  Chasing this through shows that the inductive assumption that $K_* \OS{H\Z/p}{q+1}$ is an exterior power holds, and the class $(\phi a_{(i_1, \ldots, i_q)})^{[p^n]}$ represents $a_{(n, i_1 + n, \ldots, i_q + n)}$.
\end{proof}

\begin{remark}
When reworking this computation for the case \[\Tor^{K_* \OS{H\Z/p^j}{q}}_{*, *}(K_*, K_*) \Rightarrow K_* \OS{H\Z/p^j}{q+1},\] the main difference is that there are various algebra extensions to keep track of.  These are controlled using the group maps
\todo{These are Erick's suggestions of how to denote these group maps, so that it's clearer which is the projection and which is the inclusion. I should go back through the rest of the notes and enforce this notation elsewhere too.}
\begin{align*}
\Z/p^{j+1} & \to \Z/p^j, &
\left(\frac{1}{p^j}\Z\right)/\Z & \to \left(\frac{1}{p^{j+1}} \Z\right) / \Z,
\end{align*}
together with knowledge of how the extensions strung together at the previous $j$--stage.  Then, these tools are revisited~\cite[Theorem 12.4]{RavenelWilsonKthyOfEMSpaces} to give a computation in the limiting case $A = C_{p^\infty}$, where there's a $p$--adic equivalence $HC_{p^\infty} \simeq^\wedge_p \Susp H\Z$.\todo{Mike has said something about the pairing $C_{p^j} \times C_{p^j}^* \to \Q/\Z$ not being functorial in $j$ (so as to pass to the direct limit) which gave me pause.  I should make sure I'm not messing something up here.}  The calculation in this setting is the most interesting one of all --- after all, it contains the case $BS^1_K$, which is of special interest to us.
\end{remark}

\todo{Expand out the ``limiting case as $j \to \infty$'' of the differentials in the earlier spectral sequences that you talked about in class.}
Remarkably, this maximally interesting case is easier to access directly than passing through all of this intermediate work, and this is the perspective of Hopkins and Lurie.  We will pursue an inductive calculation of the formal group schemes $(\OS{HC_{p^\infty}}{q})_K$ by iterating the cohomological bar spectral sequence, culminating in the following Theorem:
\begin{theorem}
There is an isomorphism of formal group schemes \[(\OS{HC_{p^\infty}}{q})_K \cong (\CP^\infty_K)^{\wedge q}.\]  In particular, $(\OS{HC_{p^\infty}}{q})_K$ is a ``$p$--divisible formal group'' of dimension $\binom{d-1}{q-1}$ and height $\binom{d}{q}$.
\end{theorem}

\noindent Assume that this Theorem is true for a fixed value of $q$.  First, the cohomological bar spectral sequence lets us calculate just the \emph{formal scheme} structure of $(\OS{HC_{p^\infty}}{q+1})_K$, using the \emph{formal group} structure of $(\OS{HC_{p^\infty}}{q})_K$.  It has signature~(\cite{LazarevDeformations}, \cite[Example 2.3.5]{HopkinsLurie}) \[H^*((\OS{HC_{p^\infty}}{q})_K; \G_a) \otimes_{K_0} K_* \Rightarrow K^* \OS{HC_{p^\infty}}{q+1},\] and hence we are moved to calculate the formal group cohomology of $(\OS{HC_{p^\infty}}{q})_K$.   The following Lemma furthers the calculations of formal group cohomology in \Cref{CohomologyOfGa} and \Cref{CalculationOfLTTangentSpace} to the situation of connected $p$--divisible groups of higher dimension:

\begin{lemma}[{\cite[Theorem 2.2.10 and Example 2.2.12]{HopkinsLurie}}]
If $\G$ is a connected $p$--divisible group over a field $k$, then $H^*(\G; \G_a)$ is isomorphic to the symmetric algebra on $\Susp H^1(\G[p^j]; \G_a)$\todo{$j$ is a positive integer}, with generators concentrated in degree $2$. \qed
\end{lemma}

\begin{corollary}[{\cite[Proposition 2.4.11]{HopkinsLurie}}]
As a formal scheme, $(\OS{HC_{p^\infty}}{q+1})_K$ is a formal variety of dimension $\binom{d-1}{q}$.
\end{corollary}
\begin{proof}
By setting $\G = (\OS{HC_{p^\infty}}{q})_K$, the Lemma gives us access to the $E^2$--page of our cohomological bar spectral sequence.  We can calculate the dimension of $H^1$ to be\todo{I have tried several times to figure out where this comes from, using tools from the beginning of H--L Section 2.2, but I haven't really convinced myself.  It must have something to do with the dimension of the Dieudonn\'e module of $\G$ minus the dimension of the image of $F$ --- or something?} \[\dim_k H^1((\OS{H\C_p}{q})_K; \G_a) = \height (\OS{HC_{p^\infty}}{q})_K - \dim (\OS{HC_{p^\infty}}{q})_K = \binom{d}{q-1} - \binom{d-1}{q-1} = \binom{d-1}{q}.\]  It follows that the $E_2$--page of this spectral sequence is a polynomial $k$--algebra on $\binom{d-1}{q}$ generators, concentrated in even degrees, so that the spectral sequence collapses and $K^0 \OS{HC_{p^\infty}}{q+1}$ is a power series algebra on as many generators.
\end{proof}

In order to continue the induction, we now have to identify the group structure on $(\OS{HC_{p^\infty}}{q+1})_K$.  This is done using the theory of Dieudonn\'e modules:

\begin{theorem}[{\cite[Proposition 2.4.12]{HopkinsLurie}}]

Let $q \ge 1$ be an integer.  Suppose, in addition to the inductive hypotheses above, that the sequence of group schemes\todo{Figure out this formatting. I should be able to just set the fraction to be ``inline'' rather than displaymode, but I don't know how to do that.} \[(\OS{H(\frac{1}{p}\Z_p / \Z_p)}{q})_K \to (\OS{H(\Q_p/\Z_p)}{q})_K \to (\OS{H(\Q_p / \frac{1}{p}\Z_p)}{q})_K \to K_0\] is exact, and that the map \[\theta^q\co \Q_p / \Z_p \otimes M(\CP^\infty_K)^{\wedge q} \to M((\OS{H(\Q_p/\Z_p)}{q})_K)\] is an isomorphism.  Then $\theta^{q+1}$ is an isomorphism and the formal group $\OS{H(\Q_p/\Z_p)}{q+1}$ is a connected $p$--divisible group with height $\binom{d}{q+1}$ and dimension $\binom{d-1}{q}$.
\todo{At one point this statement contained the phrase ``$K(n)$-good'' whose meaning I do not know.}
\end{theorem}
\begin{proof}[Proof sketch]
\todo{Jay asked about the edge case of $\theta^1$, where the only interesting thing happening is the $p$--adic equivalence.  That might be worth expanding in a Remark.}
By applying the snake lemma to the diagram
\begin{center}
\begin{tikzcd}
0 \arrow{r} & M^{\wedge (q+1)} \arrow{r} \arrow{d}{V} & \Q \otimes M^{\wedge (q+1)} \arrow{r} \arrow{d}{V} & \Q_p / \Z_p \otimes M^{\wedge (q+1)} \arrow{r} \arrow{d}{V} & 0 \\
0 \arrow{r} & M^{\wedge (q+1)} \arrow{r} & \Q \otimes M^{\wedge (q+1)} \arrow{r} & \Q_p / \Z_p \otimes M^{\wedge (q+1)} \arrow{r} & 0
\end{tikzcd}
\end{center} \todo{The $\Q$s in the middle should be $\Q_p$, right?}
and knowing that the middle map is an isomorphism, we learn that $V$ is a surjective endomorphism of $M^{\wedge (q+1)} M \otimes \Q_p/\Z_p$ and that there is an isomorphism \[\ker(V\co \Q_p/\Z_p \otimes M^{\wedge (q+1)} \to \Q_p/\Z_p \otimes M^{\wedge (q+1)}) \cong \operatorname{coker}(V\co M^{\wedge (q+1)} \to M^{\wedge (q+1)}).\]  The right-hand side is spanned by elements $V^I x$ with $I_1 = 0$ \todo{Why is the first component singled out?  Also, what's $m$? What's $Y$?}, and hence the left-hand side has $k$--vector--space dimension $\binom{d-1}{q}$.  By very carefully studying the bar spectral sequence, one can learn that $\theta^m$ induces a surjection \[\ker V|_{\Q_p / \Z_p \otimes M^{\wedge m}} \to \ker V|_{D(Y)}.\]  In fact, since these two have the same rank, $\theta^m$ is an isomorphism on these subspaces.  Since the action of $V$ is locally nilpotent, this is enough to show that $\theta^m$ is an isomorphism, without restriction to subspaces: if it failed to be an injection, we could apply $V$ enough times to get an example of a nontrivial element in $\ker V|_{\Q_p / \Z_p \otimes M^{\wedge m}}$ mapping to zero, and we can manually construct preimages through successive approximation.
\end{proof}

\begin{remark}[{\cite[Proposition 2.4.13]{HopkinsLurie}}]
With this in hand, you now have to pull apart the full $p$--divisible group to get a calculation of $(\OS{H\Z/p^j}{q})_K$.  From this perspective, this is the hardest part with the longest, most convoluted proof.
\end{remark}

\begin{remark}[{\cite[Section 3]{HopkinsLurie}}]
\citeme{You could also cite the alternating powers guy~\cite{HedayatzadehGeneralCase,HedayatzadehFieldCase} and a source for Dieudonn\'e crystals}
Because $K_\Gamma^* \OS{H\Z/p^j}{q}$ is even, you can hope to augment this to a calculation of $E_\Gamma^* \OS{H\Z/p^j}{q}$.  This is indeed possible, and the analogous formula is true at the level of Hopf algebras: \[(E_\Gamma)_* \OS{HC_{p^j}}{q} \cong \Alt^q (E_\Gamma)_* \OS{HC_{p^j}}{1}.\] However, the attendant algebraic geometry is quite complicated: you either need a form of Dieudonn\'e theory that functions over $\context{E_\Gamma}$ (and then attempt to drag the proof above through that setting), or you need to directly confront what ``alternating power of a $p$--divisible group'' means at the level of $p$--divisible groups (and forego all of the time-saving help afforded to you by Dieudonn\'e theory).\todo{Actually say ``Dieudonn\'e crystal''.}
\end{remark}











\begin{remark}
You'll notice that in $K_* \OS{H}{q+1}$ if we let the $q$--index tend to $\infty$, we get the $K$--homology of a point.  This is another way to see that the stable cooperations $K_* H$ vanish, meaning that the \emph{only} information present comes from unstable cooperations.\todo{We could even provide a quick proof of the stable calculation?  Cf.\ http://mathoverflow.net/questions/220952/localization-at-the-johnson-wilson-spectrum-and-rationalization, http://mathoverflow.net/a/99211/1094 .}
\end{remark}








\todo{Maybe talk about some consequences: the Hopkins--Ravenel--Wilson results on finite Postnikov towers and so on?}
\todo{I was thinking that this would give a counterexample to the idea that the additive unstable cooperations always present the functions on the scheme of homomorphisms, but now I see that this example works too.  As lazy evidence, I think counting the ranks of $Q^* K(d)_* \OS{H\Z/p}{*}$ and $\InternalHom{FormalGps}(\Gamma_d, \G_a)$ (using Dieudonn\'e theory, or using Callan's tangent space trick) gives the same number.  More seriously, I think if you write out the scheme of homomorphisms, you'll see enough things degenerate (because $[-1]_{\G_a}(x) = -x$) that you do get this alternating algebra.}







\subsection*{Things that belong in this chapter}

Theorem 6.1 of R--W \textit{The Hopf ring for complex bordism} sounds like something related to Quillen's elementary proof.

There's also a document by Boardman, Johnson, and Wilson (Chapter 2 of the \textit{Handbook of Algebraic Topology}) that discusses an equivalence between Steve's approach and ``unstable comodules''.  Please read this.





